<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head>
<!-- base href="https://www.linuxquestions.org/questions/" --><!--[if IE]></base><![endif]-->
	<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">

<meta name="keywords" content="TCP,File,Transfer,C,socket,server,client,Linux,Help,code,[SOLVED] TCP File Transfer in C with socket (server/client) on Linux. Help with code, Linux,how to,tutorial,operating system,linux,red hat,mandrake,security,linux help,installation,question,forum">
<meta name="description" content="Hello! Thank you in advance for reading this and possibly helping out. I am trying to make a file transfer between server and client, but is working">


<!-- CSS Stylesheet -->
<style type="text/css" id="vbulletin_css">
/**
* vBulletin 3.8.10 Beta 1 CSS
* Style: 'LQ Style - child of default'; Style ID: 7
*/
@import url("https://www.linuxquestions.org/questions/clientscript/vbulletin_css/style-976a09ed-00007.css");
</style>
<link rel="stylesheet" type="text/css" href="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/vbulletin_important.css">


<!-- / CSS Stylesheet -->

<script type="text/javascript" async="" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/ga.js"></script><script type="text/javascript" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/yahoo-dom-event.js"></script>
<script type="text/javascript" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/connection-min.js"></script>
<script type="text/javascript">
<!--
var SESSIONURL = "";
var SECURITYTOKEN = "guest";
var IMGDIR_MISC = "https://lqo-thequestionsnetw.netdna-ssl.com/questions/images/misc";
var vb_disable_ajax = parseInt("0", 10);
// -->
</script>

<script type="text/javascript" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/vbulletin_global.js"></script>
<script type="text/javascript" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/vbulletin_menu.js"></script>
<link rel="shortcut icon" href="https://www.linuxquestions.org/favicon.ico" type="image/x-icon">
<link rel="alternate" type="application/rss+xml" title="LQ Latest Threads" href="https://www.linuxquestions.org/syndicate/lqlatest.xml">
<link rel="alternate" type="application/rss+xml" title="LQ News and Articles" href="https://www.linuxquestions.org/syndicate/lqnews.rss">
<link rel="alternate" type="application/rss+xml" title="LQ Zero Reply Threads" href="https://www.linuxquestions.org/syndicate/lqnoreplies.xml">
<link rel="search" type="application/opensearchdescription+xml" title="LinuxQuestions.org" href="https://www.linuxquestions.org/lq-osd.xml">





<script type="text/javascript" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/spcjs.php"></script>
<script type="text/javascript" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/json-min.js"></script>
<script type="text/javascript" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/a.html"></script>
<!-- OpenGraph -->
<meta property="og:image" content="http://images.linuxquestions.org/lqthumb.png">
<meta property="og:title" content="TCP File Transfer in C with socket (server/client) on Linux. Help with code">

<!-- Twitter Card -->
<!--
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@linuxquestions" />
<meta name="twitter:title" content="TCP File Transfer in C with socket (server/client) on Linux. Help with code" />
<meta name="twitter:description" content="View this thread on LinuxQuestions.org." />
<meta name="twitter:image" content="http://images.linuxquestions.org/lqthumb.png" />
-->

	<title>[SOLVED] TCP File Transfer in C with socket (server/client) on Linux. Help with code</title>

	<style type="text/css" id="vbulletin_showthread_css">
	<!--
	
	#links div { white-space: nowrap; }
	#links img { vertical-align: middle; }
	-->
	</style>

<script type="text/javascript"><!--
window.google_analytics_uacct = 'UA-71419-4'; var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-71419-4'], ['_trackPageview'], ['_trackPageLoadTime']); (function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);  })();
//--></script>
</head>
<body onload="">
<div id="header"></div>
<!-- logo -->
<a name="top"></a>
<table width="100%" cellspacing="0" cellpadding="0" border="0" align="center">
<tbody><tr>
    <td align="left"><a href="https://www.linuxquestions.org/questions/"><img src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/LinuxQuestions.png" alt="LinuxQuestions.org" title="LinuxQuestions.org" border="0"></a></td>
    <td align="right">
     <div align="right">Download your favorite Linux distribution at <a href="http://iso.linuxquestions.org/">LQ ISO</a>.</div>
    </td>
</tr>
</tbody></table>
<!-- /logo -->
<!--INFOLINKS_OFF-->
<!-- content table -->
<!-- open content container -->

<div align="center">
	<div class="page" style="width:100%; text-align:left">
		<div style="padding:0px 0px 0px 0px" align="left">





<div class="vbmenu_popup" id="vbbloglinks_menu" style="display:none;margin-top:3px" align="left">
	<table cellspacing="1" cellpadding="4" border="0">
	<tbody><tr>
		<td class="thead"><a href="https://www.linuxquestions.org/questions/blog/">Blogs</a></td>
	</tr>
	
	<tr>
		<td class="vbmenu_option"><a href="https://www.linuxquestions.org/questions/blog/recent-entries/">Recent Entries</a></td>
	</tr>
	<tr>
		<td class="vbmenu_option"><a href="https://www.linuxquestions.org/questions/blog/best-entries/">Best Entries</a></td>
	</tr>
	<tr>
		<td class="vbmenu_option"><a href="https://www.linuxquestions.org/questions/blog/best-blogs/">Best Blogs</a></td>
	</tr>
	<tr>
		<td class="vbmenu_option"><a href="https://www.linuxquestions.org/questions/blog/all/">Blog List</a></td>
	</tr>
	
	<tr>
		<td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/questions/blog_search.php?do=search">Search Blogs</a></td>
	</tr>
	
	</tbody></table>
</div>
<script type="text/javascript">
<!--
function log_out()
{
    ht = document.getElementsByTagName("html");
    ht[0].style.filter = "progid:DXImageTransform.Microsoft.BasicImage(grayscale=1)";
    if (confirm('Are you sure you want to log out?'))
    {
        return true;
    }
    else
    {
        ht[0].style.filter = "";
        return false;
    }
}
//-->
</script>
<div style="text-align:center;margin-bottom:15px" align="center"> 
<script type="text/javascript"><!--// <![CDATA[
    OA_show(7);
// ]]> --></script><noscript><a target='_blank' href='https://rev.linuxquestions.org/www/delivery/ck.php?n=b1fb49f'><img border='0' alt='' src='https://rev.linuxquestions.org/www/delivery/avw.php?zoneid=7&amp;n=b1fb49f' /></a></noscript></div>
<div id="995afa2479" class="pagefair-acceptable"></div>

<!-- START: LQ Table Top -->
<table width="100%" cellspacing="0" cellpadding="0" border="0" align="center">
<tbody><tr>
<td class="page" valign="top">
<!-- END: LQ Table Top -->
<!-- nav buttons bar -->
<div align="center">
	<table class="tborder" style="border-top-width:0px" width="100%" cellspacing="0" cellpadding="3" border="0" align="center">
	<tbody><tr align="center">
		<td class="vbmenu_control"><a href="https://www.linuxquestions.org/" accesskey="1">Home</a></td>
		<td class="vbmenu_control"><a href="https://www.linuxquestions.org/questions/">Forums</a></td>
		<td class="vbmenu_control"><a href="https://www.linuxquestions.org/hcl/">HCL</a></td>
		<td class="vbmenu_control"><a href="https://www.linuxquestions.org/reviews/">Reviews</a></td>
		<td class="vbmenu_control"><a href="https://www.linuxquestions.org/linux/answers/">Tutorials</a></td>
		<td class="vbmenu_control"><a href="https://www.linuxquestions.org/linux/articles/">Articles</a></td>
		
			<td class="vbmenu_control"><a href="https://www.linuxquestions.org/questions/register.php" rel="nofollow">Register</a></td>
		
				
			
				<td id="navbar_search" class="vbmenu_control" style="cursor: pointer;"><a href="https://www.linuxquestions.org/questions/search.php" accesskey="4" rel="nofollow">Search</a> <script type="text/javascript"> vbmenu_register("navbar_search"); </script> <img src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/menu_open.gif" title="" alt="" border="0"></td>
			
			
		
		
	</tr>
	</tbody></table>
</div>
<!-- / nav buttons bar -->


<!-- NAVBAR POPUP MENUS -->
	
	
	<!-- header quick search form -->
	<div class="vbmenu_popup" id="navbar_search_menu" style="display:none">
		<table cellspacing="1" cellpadding="4" border="0">
		<tbody><tr>
			<td class="thead">Search Forums</td>
		</tr>
		<tr>
			<td class="vbmenu_option" title="nohilite">
			<form action="/questions/search.php" method="post">
				<input name="do" value="process" type="hidden">
				<input name="showposts" value="1" type="hidden">
				<input name="quicksearch" value="1" type="hidden">
				<input name="s" value="" type="hidden">
	<input name="securitytoken" value="guest" type="hidden">
				<input class="bginput" name="query" size="20" type="text"><input class="button" value="Go" type="submit"><br>
			</form>
			</td>
		</tr>
		<tr>
			<td class="vbmenu_option"><a href="https://www.linuxquestions.org/questions/search.php" accesskey="4" rel="nofollow">Advanced Search</a></td>
		</tr>

		<tr>
			<td class="thead">Search Tags</td>
		</tr>
		<tr>
			<td class="vbmenu_option" title="nohilite"><form action="/questions/search.php" method="post"><input class="bginput" name="tag" size="20" type="text"><input name="do" value="process" type="hidden"><input name="posttags" value="1" type="hidden"><input name="s" value="" type="hidden">
	<input name="securitytoken" value="guest" type="hidden"><input class="button" value="Go" type="submit"><br></form>
			</td>
		</tr>

		<tr>
			<td class="thead">Search LQ Wiki</td>
		</tr>
<!--		<tr>
			<td class="vbmenu_option" title="nohilite">
            <form action="http://wiki.linuxquestions.org/wiki/Special:Search">
              <input name="fulltext" value="Search" type="hidden">              <input name="search" class="bginput" type="text" size="20"><input type="submit" class="button" value="Go"  /><br />
            </form>
			</td>
		</tr> -->

		<tr>
			<td class="thead">Search Tutorials/Articles</td>
		</tr>
		<tr>
			<td class="vbmenu_option" title="nohilite">
		<form action="/linux/search/node" method="post">
			<input name="op" value="Search" type="hidden">
			<input class="bginput" name="edit[keys]" size="20" type="text"><input class="button" value="Go" type="submit"><br>
		</form>
			</td>
		</tr>

		<tr>
			<td class="thead">Search HCL</td>
		</tr>
		<tr>
			<td class="vbmenu_option" title="nohilite">

		<form method="get" action="/hcl/showcat.php">
			<input name="cat" value="all" type="hidden">
			<input name="stype" value="1" type="hidden">
			<input name="si" size="20" class="bginput" type="text"><input class="button" value="Go" type="submit"><br>
		</form>
			</td>
		</tr>
		<tr>
			<td class="thead">Search Reviews</td>
		</tr>
		<tr>
			<td class="vbmenu_option" title="nohilite">
		<form method="get" action="/reviews/showcat.php">
			<input name="cat" value="all" type="hidden">
			<input name="stype" value="1" type="hidden">
			<input name="si" size="20" class="bginput" type="text"><input class="button" value="Go" type="submit"><br>
		</form>
			</td>
		</tr>

		<tr>
			<td class="thead">Search ISOs</td>
		</tr>
<!-- 		<tr>
			<td class="vbmenu_option" title="nohilite">
		<form method="get" action="http://iso.linuxquestions.org/search.php">
			<input name="query" size="20" class="bginput" type="text"><input type="submit" class="button" value="Go"  /><br />
		</form>
			</td>
		</tr> -->
		</tbody></table>
	</div>
	<!-- / header quick search form -->
	

	
<!-- / NAVBAR POPUP MENUS -->

<!-- PAGENAV POPUP -->

	<div class="vbmenu_popup" id="pagenav_menu" style="display:none">
		<table cellspacing="1" cellpadding="4" border="0">
		<tbody><tr>
			<td class="thead" nowrap="nowrap">Go to Page...</td>
		</tr>
		<tr>
			<td class="vbmenu_option" title="nohilite">
			<form action="/questions/" method="get" onsubmit="return this.gotopage()" id="pagenav_form">
				<input class="bginput" id="pagenav_itxt" style="font-size:11px" size="4" type="text">
				<input class="button" id="pagenav_ibtn" value="Go" type="button">
			</form>
			</td>
		</tr>
		</tbody></table>
	</div>

<!-- / PAGENAV POPUP -->


<!-- breadcrumb, login, pm info -->
<table class="tborder" style="border-top:0px" width="100%" cellspacing="1" cellpadding="3" border="0" align="center">
<tbody><tr>
	<td class="alt1" width="100%">
		
			<table cellspacing="0" cellpadding="0" border="0">
			<tbody><tr valign="bottom">
				<td><a href="https://www.linuxquestions.org/questions/programming-9/tcp-file-transfer-in-c-with-socket-server-client-on-linux-help-with-code-4175413995/#" onclick="history.back(1); return false;"><img src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/navbits_start.gif" alt="Go Back" title="Go Back" border="0"></a></td>
				<td>&nbsp;</td>
				<td width="100%"><span class="navbar"><a href="https://www.linuxquestions.org/" accesskey="1">LinuxQuestions.org</a></span> 

<span class="navbar">&gt; <a href="https://www.linuxquestions.org/questions/" accesskey="1">Forums</a></span> 


	<span class="navbar">&gt; <a href="https://www.linuxquestions.org/questions/non-%2Anix-forums-16/">Non-*NIX Forums</a></span>


	<span class="navbar">&gt; <a href="https://www.linuxquestions.org/questions/programming-9/">Programming</a></span>

</td>
			</tr>
			<tr>
				<td class="navbar" style="font-size:10pt; padding-top:1px" colspan="3"><a href="https://www.linuxquestions.org/questions/programming-9/tcp-file-transfer-in-c-with-socket-server-client-on-linux-help-with-code-4175413995/"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/navbits_finallink.gif" alt="Reload this Page" title="Reload this Page" border="0"></a> <strong>
	[SOLVED] TCP File Transfer in C with socket (server/client) on Linux. Help with code

</strong></td>
			</tr>
			</tbody></table>			
		
	</td>	
	
	
		
		<td class="alt2" style="padding:0px" nowrap="nowrap">
			
		<!-- login form -->
		<form action="https://www.linuxquestions.org/questions/login.php" method="post" onsubmit="md5hash(vb_login_password, vb_login_md5password, vb_login_md5password_utf, 0)">
		<script type="text/javascript" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/vbulletin_md5.js"></script>
		<table cellspacing="3" cellpadding="0" border="0">
		<tbody><tr>
			<td class="smallfont">User Name</td>
			<td><input class="bginput" style="font-size: 11px" name="vb_login_username" id="navbar_username" size="10" accesskey="u" tabindex="101" value="User Name" onfocus="if (this.value == 'User Name') this.value = '';" type="text"></td>
			<td class="smallfont" colspan="2" nowrap="nowrap"><label for="cb_cookieuser_navbar"><input name="cookieuser" value="1" tabindex="103" id="cb_cookieuser_navbar" accesskey="c" checked="checked" type="checkbox">Remember Me?</label></td>
		</tr>
		<tr>
			<td class="smallfont">Password</td>
			<td><input class="bginput" style="font-size: 11px" name="vb_login_password" size="10" accesskey="p" tabindex="102" type="password"></td>
			<td><input class="button" value="Log in" tabindex="104" title="Enter your username and password in the boxes provided to login, or click the 'register' button to create a profile for yourself." accesskey="s" type="submit"></td>
		</tr>
		</tbody></table>
		<input name="s" value="" type="hidden">
	<input name="securitytoken" value="guest" type="hidden">
		<input name="do" value="login" type="hidden">		
		<input name="vb_login_md5password" type="hidden">
		<input name="vb_login_md5password_utf" type="hidden">
		</form>
		<!-- / login form -->
			
		</td>
		
		
	
</tr>
</tbody></table>
<!-- / breadcrumb, login, pm info -->


	<table class="tborder" style="border-top:0px" width="100%" cellspacing="1" cellpadding="3" border="0" align="center">
	<tbody><tr>
		<td class="alt1" width="100%"><strong>Programming</strong> <span class="smallfont">This forum is for all programming questions.<br>
The question does not have to be directly related to Linux and any language is fair game.</span></td>
	</tr>
	</tbody></table>




	<br>
	<table class="tborder" width="100%" cellspacing="1" cellpadding="3" border="0" align="center">
	<tbody><tr>
		<td class="thead">Notices</td>
	</tr>
	<tr>
		<td class="alt1"><div class="navbar_notice" id="navbar_notice_1">
	Welcome to <strong>LinuxQuestions.org</strong>, a friendly and active Linux Community. <br><br>
You are currently viewing LQ as a guest.  By joining our community you 
will have the ability to post topics, receive our newsletter, use the 
advanced search, subscribe to threads and access many other special 
features. Registration is quick, simple and absolutely free. <a href="https://www.linuxquestions.org/questions/register.php"><strong>Join our community</strong></a> today!<br><br>
<strong>Note that registered members see fewer ads, and ContentLink is completely disabled once you log in.</strong><br><br>
Are you new to LinuxQuestions.org?  Visit the following links:<br>
<a href="https://www.linuxquestions.org/linux/answers/LinuxQuestions_org/How_to_Use_LinuxQuestions_org">Site Howto</a> |
<a href="https://www.linuxquestions.org/questions/faq.php">Site FAQ</a> |
<a href="https://www.linuxquestions.org/linux/sitemap.html">Sitemap</a> | 
<a href="https://www.linuxquestions.org/questions/register.php">Register Now</a>
<br><br>If you have any problems with the registration process or your account login, please <a href="https://www.linuxquestions.org/questions/sendmessage.php">contact us</a>.  If you need to reset your password, <a rel="nofollow" href="https://www.linuxquestions.org/questions/login.php?do=lostpw">click here</a>.<br><br>
<strong>Having a problem logging in? Please visit <a href="https://www.linuxquestions.org/removecookies.php">this page</a> to clear all LQ-related cookies.</strong>
</div><div class="navbar_notice" id="navbar_notice_18">
	<br>
<table>
<tbody><tr><td>
<a href="http://linuxquestions.tradepub.com/free/w_mach01/prgm.cgi" rel="nofollow"><img src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/w_mach01c.gif" border="0" align="left"></a></td><td>

<em>Introduction to Linux - A Hands on Guide</em>
<br><br>
This guide was created as an overview of the Linux Operating System, 
geared toward new users as an exploration tour and getting started 
guide, with exercises at the end of each chapter.
For more advanced trainees it can be a desktop reference, and a 
collection of the base knowledge needed to proceed with system and 
network administration. This book contains many real life examples 
derived from the author's experience as a Linux system and network 
administrator, trainer and consultant. They hope these examples will 
help you to get a better understanding of the Linux system and that you 
feel encouraged to try out things on your own. 
<br>

<br><br>
<a href="http://linuxquestions.tradepub.com/free/w_mach01/" rel="nofollow" target="_blank">Click Here</a> to receive this Complete Guide absolutely free.</td></tr>
</tbody></table>
</div> <div style="text-align: center; width: 100%"> <br> 
<ins data-revive-zoneid="5" data-revive-id="76817acf98579866f1f153c2e69a73a9"></ins>
<script async="" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/asyncjs.php"></script></div></td>
	</tr>
	</tbody></table>



	<br>

<!-- <div style="text-align:center;margin-bottom:15px"> 
google_leaderboard_white_text
</div>-->
<div class="KonaBody"><!--INFOLINKS_ON-->

	
			
	





<a name="poststop" id="poststop"></a>

<!-- controls above postbits -->
<table style="margin-bottom:3px" width="100%" cellspacing="0" cellpadding="0" border="0">
<tbody><tr valign="bottom">
	
		<td class="smallfont"><a href="https://www.linuxquestions.org/questions/newreply.php?do=newreply&amp;noquote=1&amp;p=4714903" rel="nofollow"><img src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reply.gif" alt="Reply" title="Reply" border="0"></a></td>
	
	
</tr>
</tbody></table>
<!-- / controls above postbits -->

<!-- toolbar -->
<table class="tborder" style="border-bottom-width:0px" width="100%" cellspacing="1" cellpadding="3" border="0" align="center">
<tbody><tr>
	<td class="tcat" width="100%">
		
		
		&nbsp;
		
	</td>

	
		<td class="vbmenu_control" id="threadsearch" style="cursor: pointer;" nowrap="nowrap">
			<a rel="nofollow" href="https://www.linuxquestions.org/questions/programming-9/tcp-file-transfer-in-c-with-socket-server-client-on-linux-help-with-code-4175413995/?nojs=1#goto_threadsearch">Search this Thread</a>
			<script type="text/javascript"> vbmenu_register("threadsearch"); </script> <img src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/menu_open.gif" title="" alt="" border="0">
		</td>
	
	
	

	

</tr>
</tbody></table>
<!-- / toolbar -->







<div id="posts"><!-- post #4714903 -->

	<!-- open content container -->

<div align="center">
	<div class="page" style="width:100%; text-align:left">
		<div style="padding:0px 0px 0px 0px" align="left">

	<div id="edit4714903" style="padding:0px 0px 3px 0px">
	<!-- this is not the last post shown on the page -->



<table id="post4714903" class="tborder" width="100%" cellspacing="0" cellpadding="3" border="0" align="center">
<tbody><tr>
	
		<td class="thead" style="font-weight:normal; border: 1px solid #FFFFFF; border-right: 0px">		
			<!-- status icon and date -->
			<a name="post4714903"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/post_old.gif" alt="Old" title="Old" border="0"></a>
			06-29-2012, 06:44 AM
			
			<!-- / status icon and date -->
		</td>
		<td class="thead" style="font-weight:normal; border: 1px solid #FFFFFF; border-left: 0px" align="right">
			&nbsp;
		
			#<a href="https://www.linuxquestions.org/questions/programming-9/tcp-file-transfer-in-c-with-socket-server-client-on-linux-help-with-code-4175413995/#post4714903" rel="nofollow" id="postcount4714903" name="1"><strong>1</strong></a>
			
		
		</td>
	
</tr>
<tr valign="top">
	<td class="alt2" style="border: 1px solid #FFFFFF; border-top: 0px; border-bottom: 0px" width="175">			
			<div id="postmenu_4714903">
				<div class="bigusername">
				<!-- google_ad_section_start(weight=ignore) -->AscaL<!-- google_ad_section_end --></div>
				
			</div>
			<div class="smallfont">LQ Newbie</div>
			
			
			
			
			
			<div class="smallfont">
				&nbsp;<br>
				<div>Registered: Jun 2012</div>
				
				
				
				<div>
					Posts: 7
				</div>
				
				
				
				<br><div><span id="repdisplay_4714903_659823">Rep: <img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_off.gif" alt="Reputation: Disabled" title="Reputation: Disabled" border="0"></span></div>
				
				<div>    </div>
			</div>					
	</td>
	
	<td class="alt2" id="td_post_4714903" style="border-right: 1px solid #FFFFFF">
	
		
		
			<!-- icon and title -->
			<div class="smallfont">
				
				<strong><!-- google_ad_section_start -->TCP File Transfer in C with socket (server/client) on Linux. Help with code<!-- google_ad_section_end --></strong>
			</div>
			<hr style="color:#FFFFFF" size="1">
			<!-- / icon and title -->
		
		

		<!-- message -->


<div style="float: right; margin-left: 5px; margin-bottom: 5px; margin-top: -3px; margin-right: -3px">
<script type="text/javascript"><!--// <![CDATA[
    OA_show(10);
// ]]> --></script><noscript><a rel='nofollow' target='_blank' href='//rev.linuxquestions.org/www/delivery/ck.php?n=a054b75'><img border='0' alt='' src='//rev.linuxquestions.org/www/delivery/avw.php?zoneid=10&amp;n=a054b75' /></a></noscript>
<br>
<script language="javascript" type="text/javascript">
document.write('[<a href="https://www.linuxquestions.org/questions/lqlogin.php">Log in</a> to <strong>get rid</strong> of this advertisement]');
</script>[<a href="https://www.linuxquestions.org/questions/lqlogin.php">Log in</a> to <strong>get rid</strong> of this advertisement]
</div>

		<div id="post_message_4714903"><!-- google_ad_section_start -->Hello! Thank you in advance for reading this and possibly helping out.<br>
I am trying to make a file transfer between server and client, but is working very badly. Basically what needs to happen is:<br>
1) The client send a txt file to the server (i called it "quotidiani.txt")<br>
2) The server saves it in another txt file ("receive.txt")<br>
3) The server runs a script on it that modifies it and saves it with another name ("output.txt")<br>
4) The server send the file back to the client that saves it (on the same socket) with the name ("final.txt")<br>
<br>
The problem is that the first file (quotidiani.txt) is read just for a 
little part (I actually think i read just the first 512 bytes, not sure 
tho), and then there are some errors. I am not very proficient in C, 
what i wrote i found around on stack overflow and some other sites, and i
 read some tutorials and guides (like beej). I'd like someone to help me
 understand and correct my errors. I spent hours and hours on this but i
 can't find a solution...<br>
To be totally clear, this IS a university project, and i'm not asking 
you to make it for me, but to point me to my errors in ways i can 
understand them (and correct them). As i said i'm  not very good in C, 
but i want to get better.<br>
<br>
The code for client is:<br>
<div style="margin:20px; margin-top:5px">
	<div class="smallfont" style="margin-bottom:2px">Code:</div>
	<pre class="bbcodeblock" dir="ltr" style="
		margin: 0px;
		margin-right: -99999px;
		padding: 3px;
		border: 1px inset;
		width: 98%;
		height: 498px;
		text-align: left;
		overflow: auto">#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;
#include &lt;errno.h&gt;
#include &lt;string.h&gt;
#include &lt;sys/types.h&gt;
#include &lt;netinet/in.h&gt;
#include &lt;sys/wait.h&gt;
#include &lt;sys/socket.h&gt;
#include &lt;signal.h&gt;
#include &lt;ctype.h&gt;          
#include &lt;arpa/inet.h&gt;
#include &lt;netdb.h&gt;

#define PORT 20000
#define LENGTH 512 


void error(const char *msg)
{
	perror(msg);
	exit(1);
}

int main(int argc, char *argv[])
{
	/* Variable Definition */
	int sockfd; 
	int nsockfd;
	char revbuf[LENGTH]; 
	struct sockaddr_in remote_addr;

	/* Get the Socket file descriptor */
	if ((sockfd = socket(AF_INET, SOCK_STREAM, 0)) == -1)
	{
	    error("ERROR: Failed to obtain Socket Descriptor!\n");
	}

	/* Fill the socket address struct */
	remote_addr.sin_family = AF_INET; 
	remote_addr.sin_port = htons(PORT); 
	inet_pton(AF_INET, "127.0.0.1", &amp;remote_addr.sin_addr); 
	bzero(&amp;(remote_addr.sin_zero), 8);

	/* Try to connect the remote */
	if (connect(sockfd, (struct sockaddr *)&amp;remote_addr, sizeof(struct sockaddr)) == -1)
	{
	    error("ERROR: Failed to connect to the host!\n");
	}
	else 
		printf("[Client] Connected to server at port %d...ok!\n", PORT);

	/* Send File to Server */
	//if(!fork())
	//{
		char* fs_name = "/home/aryan/Desktop/quotidiani.txt";
		char sdbuf[LENGTH]; 
		printf("[Client] Sending %s to the Server...", fs_name);
		FILE *fs = fopen(fs_name, "r");
		if(fs == NULL)
		{
		    printf("ERROR: File %s not found.\n", fs_name);
			exit(1);
		}

		bzero(sdbuf, LENGTH); 
		int fs_block_sz; 
		//int success = 0;
		while((fs_block_sz = fread(sdbuf, sizeof(char), LENGTH, fs))&gt;0)
	    {
	        if(send(sockfd, sdbuf, fs_block_sz, 0) &lt; 0)
	        {
	            printf("ERROR: Failed to send file %s.\n", fs_name);
	            break;
	        }
	        bzero(sdbuf, LENGTH);
	    }
	    printf("Ok File %s from Client was Sent!\n", fs_name);
	    //success = 1;
	//}

	/* Receive File from Server */
	printf("[Client] Receiveing file from Server and saving it as final.txt...");
	char* fr_name = "/home/aryan/Desktop/progetto/final.txt";
	FILE *fr = fopen(fr_name, "a");
	if(fr == NULL)
		printf("File %s Cannot be opened.\n", fr_name);
	else
	{
	    bzero(revbuf, LENGTH); 
	    int fr_block_sz = 0;
	    int success = 0;
	    //while(success == 0)
	    //{
	        while(fr_block_sz = recv(sockfd, revbuf, LENGTH, 0))
	        {
	            if(fr_block_sz &lt; 0)
	            {
	                error("Receive file error.\n");
	            }
	            int write_sz = fwrite(revbuf, sizeof(char), fr_block_sz, fr);
	            if(write_sz &lt; fr_block_sz)
	            {
	                error("File write failed.\n");
	            }
				else if(fr_block_sz)
				{
					break;
				}
	            bzero(revbuf, LENGTH);
	        }
	        printf("Ok received from server!\n");
	        success = 1;
	        fclose(fr);
	    //}
	}
	close (sockfd);
	printf("[Client] Connection lost.\n");
	return (0);
}</pre>
</div>The code for server is:<br>
<br>
<div style="margin:20px; margin-top:5px">
	<div class="smallfont" style="margin-bottom:2px">Code:</div>
	<pre class="bbcodeblock" dir="ltr" style="
		margin: 0px;
		margin-right: -99999px;
		padding: 3px;
		border: 1px inset;
		width: 98%;
		height: 498px;
		text-align: left;
		overflow: auto">#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;
#include &lt;errno.h&gt;
#include &lt;string.h&gt;
#include &lt;sys/types.h&gt;
#include &lt;netinet/in.h&gt;
#include &lt;sys/wait.h&gt;
#include &lt;sys/socket.h&gt;
#include &lt;signal.h&gt;
#include &lt;ctype.h&gt;          
#include &lt;arpa/inet.h&gt;
#include &lt;netdb.h&gt;

#define PORT 20000 
#define BACKLOG 5
#define LENGTH 512 

void error(const char *msg)
{
	perror(msg);
	exit(1);
}

int main ()
{
	/* Defining Variables */
	int sockfd; 
	int nsockfd; 
	int num;
	int sin_size; 
	struct sockaddr_in addr_local; /* client addr */
	struct sockaddr_in addr_remote; /* server addr */
	char revbuf[LENGTH]; // Receiver buffer

	/* Get the Socket file descriptor */
	if((sockfd = socket(AF_INET, SOCK_STREAM, 0)) == -1 )
	{
	    error("ERROR: Failed to obtain Socket Descriptor.\n");
	}
	else 
		printf("[Server] Obtaining socket descriptor successfully.\n");

	/* Fill the client socket address struct */
	addr_local.sin_family = AF_INET; // Protocol Family
	addr_local.sin_port = htons(PORT); // Port number
	addr_local.sin_addr.s_addr = INADDR_ANY; // AutoFill local address
	bzero(&amp;(addr_local.sin_zero), 8); // Flush the rest of struct

	/* Bind a special Port */
	if( bind(sockfd, (struct sockaddr*)&amp;addr_local, sizeof(struct sockaddr)) == -1 )
	{
	    error("ERROR: Failed to bind Port.\n");
	}
	else 
		printf("[Server] Binded tcp port %d in addr 127.0.0.1 sucessfully.\n",PORT);

	/* Listen remote connect/calling */
	if(listen(sockfd,BACKLOG) == -1)
	{
	    error("ERROR: Failed to listen Port.\n");
	}
	else
		printf ("[Server] Listening the port %d successfully.\n", PORT);

	int success = 0;
	while(success == 0)
	{
	    sin_size = sizeof(struct sockaddr_in);

	    /* Wait a connection, and obtain a new socket file despriptor for single connection */
	    if ((nsockfd = accept(sockfd, (struct sockaddr *)&amp;addr_remote, &amp;sin_size)) == -1) 
		{
	        error("ERROR: Obtaining new Socket Despcritor.\n");
		}
	    else 
			printf("[Server] Server has got connected from %s.\n", inet_ntoa(addr_remote.sin_addr));

		/*Receive File from Client */
		char* fr_name = "/home/aryan/Desktop/receive.txt";
		FILE *fr = fopen(fr_name, "a");
		if(fr == NULL)
			printf("File %s Cannot be opened file on server.\n", fr_name);
		else
		{
			bzero(revbuf, LENGTH); 
			int fr_block_sz = 0;
			//int success = 0;
			//while(success == 0)
			//{
			    while(fr_block_sz = recv(nsockfd, revbuf, LENGTH, 0)) //could it be sockfd?
			    {
			        if(fr_block_sz &lt; 0)
			        {
			            error("Error receiving file from client to server.\n");
			        }
			        int write_sz = fwrite(revbuf, sizeof(char), fr_block_sz, fr);
			        if(write_sz &lt; fr_block_sz)
			        {
			            error("File write failed on server.\n");
			        }
					else if(fr_block_sz)
					{
						break;
					}
			        bzero(revbuf, LENGTH);
			    }
			    printf("Ok received from client!\n");
			    fclose(fr);
			//}
		}

		/* Call the Script */
		system("cd ; chmod +x script.sh ; ./script.sh");

		/* Send File to Client */
	    //if(!fork())
	    //{
	        char* fs_name = "/home/aryan/Desktop/output.txt";
	        char sdbuf[LENGTH]; // Send buffer
	        printf("[Server] Sending %s to the Client...", fs_name);
	        FILE *fs = fopen(fs_name, "r");
	        if(fs == NULL)
	        {
	            printf("ERROR: File %s not found on server.\n", fs_name);
				exit(1);
	        }

	        bzero(sdbuf, LENGTH); 
	        int fs_block_sz; 
	        while((fs_block_sz = fread(sdbuf, sizeof(char), LENGTH, fs))&gt;0)
	        {
	            if(send(nsockfd, sdbuf, fs_block_sz, 0) &lt; 0)
	            {
	                printf("ERROR: Failed to send file %s.\n", fs_name);
	                exit(1);
	            }
	            bzero(sdbuf, LENGTH);
	        }
	        printf("Ok sent to client!\n");
	        success = 1;
	        close(nsockfd);
	        printf("[Server] Connection with Client closed. Server will wait now...\n");
	        while(waitpid(-1, NULL, WNOHANG) &gt; 0);
	    //}
	}
}</pre>
</div>I really think errors are mostly on the client.c. Any advice is very welcome too! Thanks a lot and have a nice day!<!-- google_ad_section_end --></div>
		<!-- / message -->
	
		
		
		
		

		
		
		
		
		
	
	</td>
</tr>
<tr>
	<td class="alt2" style="border: 1px solid #FFFFFF; border-top: 0px">


		

		
		
		&nbsp;
	</td>

	
	<td class="alt2" style="border: 1px solid #FFFFFF; border-left: 0px; border-top: 0px" align="right">
	
		<!-- controls -->
	
		
		
		
		
		
		
		
		
			
		
		
				
			
		
		
		<!-- / controls -->
	</td>
</tr>
</tbody></table>

<div align="center"><!-- lq_leader_afterpost --> </div>



<!-- post 4714903 popup menu -->
<div class="vbmenu_popup" id="postmenu_4714903_menu" style="display:none">
	<table cellspacing="1" cellpadding="4" border="0">
	<tbody><tr>
		<td class="thead">AscaL</td>
	</tr>
	
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/questions/user/ascal-659823/">View Public Profile</a></td></tr>
	
	<tr><td class="vbmenu_option"><a href="https://www.linuxquestions.org/questions/blog/AscaL-659823/">View LQ Blog</a></td></tr>
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/reviews/showcat.php?cat=myprod&amp;ppuser=659823">View Review Entries</a></td></tr>
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/hcl/showcat.php?cat=myprod&amp;ppuser=659823">View HCL Entries</a></td></tr>
	
	
	
	
	
	
	
		<tr><td class="vbmenu_option"><a href="https://www.linuxquestions.org/questions/search.php?do=finduser&amp;u=659823" rel="nofollow">Find More Posts by AscaL</a></td></tr>
	
	
	
	</tbody></table>
</div>
<!-- / post 4714903 popup menu -->


	</div>
	
		</div>
	</div>
</div>

<!-- / close content container -->

<!-- / post #4714903 --><!-- post #4714928 -->

	<!-- open content container -->

<div align="center">
	<div class="page" style="width:100%; text-align:left">
		<div style="padding:0px 0px 0px 0px" align="left">

	<div id="edit4714928" style="padding:0px 0px 3px 0px">
	<!-- this is not the last post shown on the page -->



<table id="post4714928" class="tborder" width="100%" cellspacing="0" cellpadding="3" border="0" align="center">
<tbody><tr>
	
		<td class="thead" style="font-weight:normal; border: 1px solid #FFFFFF; border-right: 0px">		
			<!-- status icon and date -->
			<a name="post4714928"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/post_old.gif" alt="Old" title="Old" border="0"></a>
			06-29-2012, 07:57 AM
			
			<!-- / status icon and date -->
		</td>
		<td class="thead" style="font-weight:normal; border: 1px solid #FFFFFF; border-left: 0px" align="right">
			&nbsp;
		
			#<a href="https://www.linuxquestions.org/questions/programming-9/tcp-file-transfer-in-c-with-socket-server-client-on-linux-help-with-code-4175413995/#post4714928" rel="nofollow" id="postcount4714928" name="2"><strong>2</strong></a>
			
		
		</td>
	
</tr>
<tr valign="top">
	<td class="alt1" style="border: 1px solid #FFFFFF; border-top: 0px; border-bottom: 0px" width="175">			
			<div id="postmenu_4714928">
				<div class="bigusername">
				<!-- google_ad_section_start(weight=ignore) -->dwhitney67<!-- google_ad_section_end --></div>
				
			</div>
			<div class="smallfont">Senior Member</div>
			
			
			
			
			
			<div class="smallfont">
				&nbsp;<br>
				<div>Registered: Jun 2006</div>
				<div>Location: Maryland</div>
				<div>Distribution: Kubuntu, Fedora, RHEL</div>
				
				<div>
					Posts: 1,533
				</div>
				
				
				
				<br><div><span id="repdisplay_4714928_273414">Rep: <img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_pos.gif" alt="Reputation: 335" title="Reputation: 335" border="0"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_pos.gif" alt="Reputation: 335" title="Reputation: 335" border="0"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_pos.gif" alt="Reputation: 335" title="Reputation: 335" border="0"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_pos.gif" alt="Reputation: 335" title="Reputation: 335" border="0"> <!-- <smallfont>(335)</smallfont>--></span></div>
				
				<div>    </div>
			</div>					
	</td>
	
	<td class="alt1" id="td_post_4714928" style="border-right: 1px solid #FFFFFF">
	
		
		
		

		<!-- message -->


		<div id="post_message_4714928"><!-- google_ad_section_start -->In both your client and server code, you have the following statements:<br>
<div style="margin:20px; margin-top:5px">
	<div class="smallfont" style="margin-bottom:2px">Code:</div>
	<pre class="bbcodeblock" dir="ltr" style="
		margin: 0px;
		margin-right: -99999px;
		padding: 3px;
		border: 1px inset;
		width: 98%;
		height: 82px;
		text-align: left;
		overflow: auto">else if(fr_block_sz)
{
    break;
}</pre>
</div>You probably do not want this.  Instead, you want to loop again so
 that you can perform another recv() call.  Perhaps this code was left 
over from a previous version of your code where the outer while-loop was
 not commented out?<!-- google_ad_section_end --></div>
		<!-- / message -->
	
		
		
		
		

		
		
		
		
		
	
	</td>
</tr>
<tr>
	<td class="alt1" style="border: 1px solid #FFFFFF; border-top: 0px">


		

		
		
		&nbsp;
	</td>

	
	<td class="alt1" style="border: 1px solid #FFFFFF; border-left: 0px; border-top: 0px" align="right">
	
		<!-- controls -->
	
		
		
		
		
		
		
		
		
			
		
		
				
					
			<div id="helpfulanswers_box_4714928">		
								
				
				
					
						1 members found this post helpful.
					
				
					
					
				
				
				
				
			</div>			
			
		
		
		<!-- / controls -->
	</td>
</tr>
</tbody></table>



<!-- post 4714928 popup menu -->
<div class="vbmenu_popup" id="postmenu_4714928_menu" style="display:none">
	<table cellspacing="1" cellpadding="4" border="0">
	<tbody><tr>
		<td class="thead">dwhitney67</td>
	</tr>
	
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/questions/user/dwhitney67-273414/">View Public Profile</a></td></tr>
	
	<tr><td class="vbmenu_option"><a href="https://www.linuxquestions.org/questions/blog/dwhitney67-273414/">View LQ Blog</a></td></tr>
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/reviews/showcat.php?cat=myprod&amp;ppuser=273414">View Review Entries</a></td></tr>
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/hcl/showcat.php?cat=myprod&amp;ppuser=273414">View HCL Entries</a></td></tr>
	
	
	
	
	
	
	
		<tr><td class="vbmenu_option"><a href="https://www.linuxquestions.org/questions/search.php?do=finduser&amp;u=273414" rel="nofollow">Find More Posts by dwhitney67</a></td></tr>
	
	
	
	</tbody></table>
</div>
<!-- / post 4714928 popup menu -->


	</div>
	
		</div>
	</div>
</div>

<!-- / close content container -->

<!-- / post #4714928 --><!-- post #4714951 -->

	<!-- open content container -->

<div align="center">
	<div class="page" style="width:100%; text-align:left">
		<div style="padding:0px 0px 0px 0px" align="left">

	<div id="edit4714951" style="padding:0px 0px 3px 0px">
	<!-- this is not the last post shown on the page -->



<table id="post4714951" class="tborder" width="100%" cellspacing="0" cellpadding="3" border="0" align="center">
<tbody><tr>
	
		<td class="thead" style="font-weight:normal; border: 1px solid #FFFFFF; border-right: 0px">		
			<!-- status icon and date -->
			<a name="post4714951"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/post_old.gif" alt="Old" title="Old" border="0"></a>
			06-29-2012, 08:24 AM
			
			<!-- / status icon and date -->
		</td>
		<td class="thead" style="font-weight:normal; border: 1px solid #FFFFFF; border-left: 0px" align="right">
			&nbsp;
		
			#<a href="https://www.linuxquestions.org/questions/programming-9/tcp-file-transfer-in-c-with-socket-server-client-on-linux-help-with-code-4175413995/#post4714951" rel="nofollow" id="postcount4714951" name="3"><strong>3</strong></a>
			
		
		</td>
	
</tr>
<tr valign="top">
	<td class="alt2" style="border: 1px solid #FFFFFF; border-top: 0px; border-bottom: 0px" width="175">			
			<div id="postmenu_4714951">
				<div class="bigusername">
				<!-- google_ad_section_start(weight=ignore) -->AscaL<!-- google_ad_section_end --></div>
				
			</div>
			<div class="smallfont">LQ Newbie</div>
			
			
			
			
			
			<div class="smallfont">
				&nbsp;<br>
				<div>Registered: Jun 2012</div>
				
				
				
				<div>
					Posts: 7
				</div>
				
				<!-- Threadauthor -->


<br><strong>Original Poster</strong>
<!-- / Threadauthor -->
				
				<br><div><span id="repdisplay_4714951_659823">Rep: <img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_off.gif" alt="Reputation: Disabled" title="Reputation: Disabled" border="0"></span></div>
				
				<div>    </div>
			</div>					
	</td>
	
	<td class="alt2" id="td_post_4714951" style="border-right: 1px solid #FFFFFF">
	
		
		
		

		<!-- message -->


		<div id="post_message_4714951"><!-- google_ad_section_start -->Mmmmm 
I'm not 100% sure, but that should be there because the recv() can 
return 0 (since i handle the &gt; and &lt; 0). Why isn't that useful? 
I'm asking because i tried to do a lot of tests, and that's why the 
outer while is commented, and i'm not finding any difference with it 
commented or not (the outer while). <br>
For what i understand (probably is wrong, but still) what should happen is this:<br>
<div style="margin:20px; margin-top:5px">
	<div class="smallfont" style="margin-bottom:2px">Code:</div>
	<pre class="bbcodeblock" dir="ltr" style="
		margin: 0px;
		margin-right: -99999px;
		padding: 3px;
		border: 1px inset;
		width: 98%;
		height: 34px;
		text-align: left;
		overflow: auto">while(fr_block_sz = recv(nsockfd, revbuf, LENGTH, 0))</pre>
</div>store result of recv() in fr_block_sz<br>
<div style="margin:20px; margin-top:5px">
	<div class="smallfont" style="margin-bottom:2px">Code:</div>
	<pre class="bbcodeblock" dir="ltr" style="
		margin: 0px;
		margin-right: -99999px;
		padding: 3px;
		border: 1px inset;
		width: 98%;
		height: 34px;
		text-align: left;
		overflow: auto">if(fr_block_sz &lt; 0)</pre>
</div>if recv bytes are &lt; 0 is an error<br>
<div style="margin:20px; margin-top:5px">
	<div class="smallfont" style="margin-bottom:2px">Code:</div>
	<pre class="bbcodeblock" dir="ltr" style="
		margin: 0px;
		margin-right: -99999px;
		padding: 3px;
		border: 1px inset;
		width: 98%;
		height: 50px;
		text-align: left;
		overflow: auto">int write_sz = fwrite(revbuf, sizeof(char), fr_block_sz, fr); 
if(write_sz &lt; fr_block_sz)</pre>
</div>write from buffer to file fr_block_sz bytes, then check is the bytes written are same as fr_b_s. if not is another error<br>
<div style="margin:20px; margin-top:5px">
	<div class="smallfont" style="margin-bottom:2px">Code:</div>
	<pre class="bbcodeblock" dir="ltr" style="
		margin: 0px;
		margin-right: -99999px;
		padding: 3px;
		border: 1px inset;
		width: 98%;
		height: 34px;
		text-align: left;
		overflow: auto">else if(fr_block_sz)</pre>
</div>if fr_b_s is 0 then it breaks the loop because writing 0 bytes = nothing more to write.<br>
<br>
That's how i got it, but I might very well be wrong.<br>
<br>
And thanks for the comment!<!-- google_ad_section_end --></div>
		<!-- / message -->
	
		
		
		
		

		
		
		
		
		
	
	</td>
</tr>
<tr>
	<td class="alt2" style="border: 1px solid #FFFFFF; border-top: 0px">


		

		
		
		&nbsp;
	</td>

	
	<td class="alt2" style="border: 1px solid #FFFFFF; border-left: 0px; border-top: 0px" align="right">
	
		<!-- controls -->
	
		
		
		
		
		
		
		
		
			
		
		
				
					
			<div id="helpfulanswers_box_4714951">		
								
				
				
					
				
					
					
				
				
				
				
			</div>			
			
		
		
		<!-- / controls -->
	</td>
</tr>
</tbody></table>



<!-- post 4714951 popup menu -->
<div class="vbmenu_popup" id="postmenu_4714951_menu" style="display:none">
	<table cellspacing="1" cellpadding="4" border="0">
	<tbody><tr>
		<td class="thead">AscaL</td>
	</tr>
	
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/questions/user/ascal-659823/">View Public Profile</a></td></tr>
	
	<tr><td class="vbmenu_option"><a href="https://www.linuxquestions.org/questions/blog/AscaL-659823/">View LQ Blog</a></td></tr>
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/reviews/showcat.php?cat=myprod&amp;ppuser=659823">View Review Entries</a></td></tr>
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/hcl/showcat.php?cat=myprod&amp;ppuser=659823">View HCL Entries</a></td></tr>
	
	
	
	
	
	
	
		<tr><td class="vbmenu_option"><a href="https://www.linuxquestions.org/questions/search.php?do=finduser&amp;u=659823" rel="nofollow">Find More Posts by AscaL</a></td></tr>
	
	
	
	</tbody></table>
</div>
<!-- / post 4714951 popup menu -->


	</div>
	
		</div>
	</div>
</div>

<!-- / close content container -->

<!-- / post #4714951 --><!-- post #4714998 -->

	<!-- open content container -->

<div align="center">
	<div class="page" style="width:100%; text-align:left">
		<div style="padding:0px 0px 0px 0px" align="left">

	<div id="edit4714998" style="padding:0px 0px 3px 0px">
	<!-- this is not the last post shown on the page -->



<table id="post4714998" class="tborder" width="100%" cellspacing="0" cellpadding="3" border="0" align="center">
<tbody><tr>
	
		<td class="thead" style="font-weight:normal; border: 1px solid #FFFFFF; border-right: 0px">		
			<!-- status icon and date -->
			<a name="post4714998"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/post_old.gif" alt="Old" title="Old" border="0"></a>
			06-29-2012, 09:20 AM
			
			<!-- / status icon and date -->
		</td>
		<td class="thead" style="font-weight:normal; border: 1px solid #FFFFFF; border-left: 0px" align="right">
			&nbsp;
		
			#<a href="https://www.linuxquestions.org/questions/programming-9/tcp-file-transfer-in-c-with-socket-server-client-on-linux-help-with-code-4175413995/#post4714998" rel="nofollow" id="postcount4714998" name="4"><strong>4</strong></a>
			
		
		</td>
	
</tr>
<tr valign="top">
	<td class="alt1" style="border: 1px solid #FFFFFF; border-top: 0px; border-bottom: 0px" width="175">			
			<div id="postmenu_4714998">
				<div class="bigusername">
				<!-- google_ad_section_start(weight=ignore) -->dwhitney67<!-- google_ad_section_end --></div>
				
			</div>
			<div class="smallfont">Senior Member</div>
			
			
			
			
			
			<div class="smallfont">
				&nbsp;<br>
				<div>Registered: Jun 2006</div>
				<div>Location: Maryland</div>
				<div>Distribution: Kubuntu, Fedora, RHEL</div>
				
				<div>
					Posts: 1,533
				</div>
				
				
				
				<br><div><span id="repdisplay_4714998_273414">Rep: <img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_pos.gif" alt="Reputation: 335" title="Reputation: 335" border="0"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_pos.gif" alt="Reputation: 335" title="Reputation: 335" border="0"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_pos.gif" alt="Reputation: 335" title="Reputation: 335" border="0"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_pos.gif" alt="Reputation: 335" title="Reputation: 335" border="0"> <!-- <smallfont>(335)</smallfont>--></span></div>
				
				<div>    </div>
			</div>					
	</td>
	
	<td class="alt1" id="td_post_4714998" style="border-right: 1px solid #FFFFFF">
	
		
		
		

		<!-- message -->


		<div id="post_message_4714998"><!-- google_ad_section_start -->If 
fr_block_sz is 0, then the condition below evaluates to false, not true 
as you are thinking.  If fr_block_sz is either -1 or greater than 0, 
then the statement evaluates to true:<br>
<div style="margin:20px; margin-top:5px">
	<div class="smallfont" style="margin-bottom:2px">Code:</div>
	<pre class="bbcodeblock" dir="ltr" style="
		margin: 0px;
		margin-right: -99999px;
		padding: 3px;
		border: 1px inset;
		width: 98%;
		height: 34px;
		text-align: left;
		overflow: auto">else if(fr_block_sz)</pre>
</div>recv() can return some number N that is either -1, 0, or some 
number greater than 0.  A -1 implies an error, but not necessarily one 
that requires you to give up on receiving.  Check the value of errno; if
 it is equal to EWOULDBLOCK (or EAGAIN) or EINTR then you may want to 
try calling recv() again.<br>
<br>
When a server is receiving data from a client, and a result of 0 is 
returned, this is a good clue that the client has disconnected.  
Obviously when N is greater than 0, then data has been successfully 
received.<br>
<br>
My earlier comment was based on the initial code you presented; when N 
is not equal to zero, the condition you had programmed will evaluate to 
true, and thus you will exit the while-loop.  The while-loop that is 
commented out has no bearing on the program you were executing.  Thus 
your server performed one successful recv(), then wrote some data to a 
file, and then exited the while-loop.  I do not think this is what you 
wanted.<!-- google_ad_section_end --></div>
		<!-- / message -->
	
		
		
		
		

		
		
		
		
		
		<!-- edit note -->
			<div class="smallfont">
				<hr style="color:#FFFFFF" size="1">
				<em>
					
						Last edited by dwhitney67; 06-29-2012 at <span class="time">10:08 AM</span>.
					
					
				</em>
			</div>
		<!-- / edit note -->
		
	
	</td>
</tr>
<tr>
	<td class="alt1" style="border: 1px solid #FFFFFF; border-top: 0px">


		

		
		
		&nbsp;
	</td>

	
	<td class="alt1" style="border: 1px solid #FFFFFF; border-left: 0px; border-top: 0px" align="right">
	
		<!-- controls -->
	
		
		
		
		
		
		
		
		
			
		
		
				
					
			<div id="helpfulanswers_box_4714998">		
								
				
				
					
						1 members found this post helpful.
					
				
					
					
				
				
				
				
			</div>			
			
		
		
		<!-- / controls -->
	</td>
</tr>
</tbody></table>



<!-- post 4714998 popup menu -->
<div class="vbmenu_popup" id="postmenu_4714998_menu" style="display:none">
	<table cellspacing="1" cellpadding="4" border="0">
	<tbody><tr>
		<td class="thead">dwhitney67</td>
	</tr>
	
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/questions/user/dwhitney67-273414/">View Public Profile</a></td></tr>
	
	<tr><td class="vbmenu_option"><a href="https://www.linuxquestions.org/questions/blog/dwhitney67-273414/">View LQ Blog</a></td></tr>
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/reviews/showcat.php?cat=myprod&amp;ppuser=273414">View Review Entries</a></td></tr>
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/hcl/showcat.php?cat=myprod&amp;ppuser=273414">View HCL Entries</a></td></tr>
	
	
	
	
	
	
	
		<tr><td class="vbmenu_option"><a href="https://www.linuxquestions.org/questions/search.php?do=finduser&amp;u=273414" rel="nofollow">Find More Posts by dwhitney67</a></td></tr>
	
	
	
	</tbody></table>
</div>
<!-- / post 4714998 popup menu -->


	</div>
	
		</div>
	</div>
</div>

<!-- / close content container -->

<!-- / post #4714998 --><!-- post #4715027 -->

	<!-- open content container -->

<div align="center">
	<div class="page" style="width:100%; text-align:left">
		<div style="padding:0px 0px 0px 0px" align="left">

	<div id="edit4715027" style="padding:0px 0px 3px 0px">
	<!-- this is not the last post shown on the page -->



<table id="post4715027" class="tborder" width="100%" cellspacing="0" cellpadding="3" border="0" align="center">
<tbody><tr>
	
		<td class="thead" style="font-weight:normal; border: 1px solid #FFFFFF; border-right: 0px">		
			<!-- status icon and date -->
			<a name="post4715027"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/post_old.gif" alt="Old" title="Old" border="0"></a>
			06-29-2012, 09:51 AM
			
			<!-- / status icon and date -->
		</td>
		<td class="thead" style="font-weight:normal; border: 1px solid #FFFFFF; border-left: 0px" align="right">
			&nbsp;
		
			#<a href="https://www.linuxquestions.org/questions/programming-9/tcp-file-transfer-in-c-with-socket-server-client-on-linux-help-with-code-4175413995/#post4715027" rel="nofollow" id="postcount4715027" name="5"><strong>5</strong></a>
			
		
		</td>
	
</tr>
<tr valign="top">
	<td class="alt2" style="border: 1px solid #FFFFFF; border-top: 0px; border-bottom: 0px" width="175">			
			<div id="postmenu_4715027">
				<div class="bigusername">
				<!-- google_ad_section_start(weight=ignore) -->AscaL<!-- google_ad_section_end --></div>
				
			</div>
			<div class="smallfont">LQ Newbie</div>
			
			
			
			
			
			<div class="smallfont">
				&nbsp;<br>
				<div>Registered: Jun 2012</div>
				
				
				
				<div>
					Posts: 7
				</div>
				
				<!-- Threadauthor -->


<br><strong>Original Poster</strong>
<!-- / Threadauthor -->
				
				<br><div><span id="repdisplay_4715027_659823">Rep: <img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_off.gif" alt="Reputation: Disabled" title="Reputation: Disabled" border="0"></span></div>
				
				<div>    </div>
			</div>					
	</td>
	
	<td class="alt2" id="td_post_4715027" style="border-right: 1px solid #FFFFFF">
	
		
		
		

		<!-- message -->


		<div id="post_message_4715027"><!-- google_ad_section_start -->It 
definitively is not. I think you might have helped a lot, i'm gonna do 
some tries and get back with what i find. Thanks a lot!<!-- google_ad_section_end --></div>
		<!-- / message -->
	
		
		
		
		

		
		
		
		
		
	
	</td>
</tr>
<tr>
	<td class="alt2" style="border: 1px solid #FFFFFF; border-top: 0px">


		

		
		
		&nbsp;
	</td>

	
	<td class="alt2" style="border: 1px solid #FFFFFF; border-left: 0px; border-top: 0px" align="right">
	
		<!-- controls -->
	
		
		
		
		
		
		
		
		
			
		
		
				
					
			<div id="helpfulanswers_box_4715027">		
								
				
				
					
				
					
					
				
				
				
				
			</div>			
			
		
		
		<!-- / controls -->
	</td>
</tr>
</tbody></table>



<!-- post 4715027 popup menu -->
<div class="vbmenu_popup" id="postmenu_4715027_menu" style="display:none">
	<table cellspacing="1" cellpadding="4" border="0">
	<tbody><tr>
		<td class="thead">AscaL</td>
	</tr>
	
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/questions/user/ascal-659823/">View Public Profile</a></td></tr>
	
	<tr><td class="vbmenu_option"><a href="https://www.linuxquestions.org/questions/blog/AscaL-659823/">View LQ Blog</a></td></tr>
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/reviews/showcat.php?cat=myprod&amp;ppuser=659823">View Review Entries</a></td></tr>
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/hcl/showcat.php?cat=myprod&amp;ppuser=659823">View HCL Entries</a></td></tr>
	
	
	
	
	
	
	
		<tr><td class="vbmenu_option"><a href="https://www.linuxquestions.org/questions/search.php?do=finduser&amp;u=659823" rel="nofollow">Find More Posts by AscaL</a></td></tr>
	
	
	
	</tbody></table>
</div>
<!-- / post 4715027 popup menu -->


	</div>
	
		</div>
	</div>
</div>

<!-- / close content container -->

<!-- / post #4715027 --><!-- post #4715081 -->

	<!-- open content container -->

<div align="center">
	<div class="page" style="width:100%; text-align:left">
		<div style="padding:0px 0px 0px 0px" align="left">

	<div id="edit4715081" style="padding:0px 0px 3px 0px">
	<!-- this is not the last post shown on the page -->



<table id="post4715081" class="tborder" width="100%" cellspacing="0" cellpadding="3" border="0" align="center">
<tbody><tr>
	
		<td class="thead" style="font-weight:normal; border: 1px solid #FFFFFF; border-right: 0px">		
			<!-- status icon and date -->
			<a name="post4715081"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/post_old.gif" alt="Old" title="Old" border="0"></a>
			06-29-2012, 11:29 AM
			
			<!-- / status icon and date -->
		</td>
		<td class="thead" style="font-weight:normal; border: 1px solid #FFFFFF; border-left: 0px" align="right">
			&nbsp;
		
			#<a href="https://www.linuxquestions.org/questions/programming-9/tcp-file-transfer-in-c-with-socket-server-client-on-linux-help-with-code-4175413995/#post4715081" rel="nofollow" id="postcount4715081" name="6"><strong>6</strong></a>
			
		
		</td>
	
</tr>
<tr valign="top">
	<td class="alt1" style="border: 1px solid #FFFFFF; border-top: 0px; border-bottom: 0px" width="175">			
			<div id="postmenu_4715081">
				<div class="bigusername">
				<!-- google_ad_section_start(weight=ignore) -->AscaL<!-- google_ad_section_end --></div>
				
			</div>
			<div class="smallfont">LQ Newbie</div>
			
			
			
			
			
			<div class="smallfont">
				&nbsp;<br>
				<div>Registered: Jun 2012</div>
				
				
				
				<div>
					Posts: 7
				</div>
				
				<!-- Threadauthor -->


<br><strong>Original Poster</strong>
<!-- / Threadauthor -->
				
				<br><div><span id="repdisplay_4715081_659823">Rep: <img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_off.gif" alt="Reputation: Disabled" title="Reputation: Disabled" border="0"></span></div>
				
				<div>    </div>
			</div>					
	</td>
	
	<td class="alt1" id="td_post_4715081" style="border-right: 1px solid #FFFFFF">
	
		
		
		

		<!-- message -->


		<div id="post_message_4715081"><!-- google_ad_section_start -->Hey, thanks a lot that really helped me! I'm stuck with something else now tho.<br>
I changed both server and client code to this:<br>
<br>
server:<br>
<div style="margin:20px; margin-top:5px">
	<div class="smallfont" style="margin-bottom:2px">Code:</div>
	<pre class="bbcodeblock" dir="ltr" style="
		margin: 0px;
		margin-right: -99999px;
		padding: 3px;
		border: 1px inset;
		width: 98%;
		height: 482px;
		text-align: left;
		overflow: auto">/*Receive File from Client */
		char* fr_name = "/home/aryan/Desktop/receive.txt";
		FILE *fr = fopen(fr_name, "a");
		if(fr == NULL)
			printf("File %s Cannot be opened file on server.\n", fr_name);
		else
		{
			bzero(revbuf, LENGTH); 
			int fr_block_sz = 0;
		    while((fr_block_sz = recv(nsockfd, revbuf, LENGTH, 0)) &gt;= 0) 
		    {
				if (fr_block_sz == 0) 
				{
					break;
				}
		        int write_sz = fwrite(revbuf, sizeof(char), fr_block_sz, fr);
				if(write_sz &lt; fr_block_sz)
		        {
		            error("File write failed on server.\n");
		        }
				bzero(revbuf, LENGTH);
			}
			if(fr_block_sz &lt; 0)
	        {
	            error("Error receiving file from client to server.\n");
	        }
			printf("Ok received from client!\n");
			fclose(fr); 
		}</pre>
</div>Client:<br>
<br>
<div style="margin:20px; margin-top:5px">
	<div class="smallfont" style="margin-bottom:2px">Code:</div>
	<pre class="bbcodeblock" dir="ltr" style="
		margin: 0px;
		margin-right: -99999px;
		padding: 3px;
		border: 1px inset;
		width: 98%;
		height: 498px;
		text-align: left;
		overflow: auto">/* Receive File from Server */
	printf("[Client] Receiveing file from Server and saving it as final.txt...");
	char* fr_name = "/home/aryan/Desktop/progetto/final.txt";
	FILE *fr = fopen(fr_name, "a");
	if(fr == NULL)
		printf("File %s Cannot be opened.\n", fr_name);
	else
	{
	    bzero(revbuf, LENGTH); 
	    int fr_block_sz = 0;
	        while((fr_block_sz = recv(sockfd, revbuf, LENGTH, 0)) &gt;= 0)
	        {
				if (fr_block_sz == 0) 
				{
					break;
				}
	            int write_sz = fwrite(revbuf, sizeof(char), fr_block_sz, fr);
	            if(write_sz &lt; fr_block_sz)
				{
	                error("File write failed.\n");
	            }
				bzero(revbuf, LENGTH);
			}
			if(fr_block_sz &lt; 0)
            {
                error("Receive file error.\n");
            }
	        printf("Ok received from server!\n");
	        fclose(fr);
	}</pre>
</div>And now the first file get sent completely and the script works on
 it. The problem is that to send this first file i have to ^C 
(terminate) the client process... i don't know why but if i don't ^C it 
just keep being stuck. As soon as i do that it starts transferring the 
file and running the script.<br>
Thanks again i've been stuck for days on that thing!<!-- google_ad_section_end --></div>
		<!-- / message -->
	
		
		
		
		

		
		
		
		
		
	
	</td>
</tr>
<tr>
	<td class="alt1" style="border: 1px solid #FFFFFF; border-top: 0px">


		

		
		
		&nbsp;
	</td>

	
	<td class="alt1" style="border: 1px solid #FFFFFF; border-left: 0px; border-top: 0px" align="right">
	
		<!-- controls -->
	
		
		
		
		
		
		
		
		
			
		
		
				
					
			<div id="helpfulanswers_box_4715081">		
								
				
				
					
				
					
					
				
				
				
				
			</div>			
			
		
		
		<!-- / controls -->
	</td>
</tr>
</tbody></table>



<!-- post 4715081 popup menu -->
<div class="vbmenu_popup" id="postmenu_4715081_menu" style="display:none">
	<table cellspacing="1" cellpadding="4" border="0">
	<tbody><tr>
		<td class="thead">AscaL</td>
	</tr>
	
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/questions/user/ascal-659823/">View Public Profile</a></td></tr>
	
	<tr><td class="vbmenu_option"><a href="https://www.linuxquestions.org/questions/blog/AscaL-659823/">View LQ Blog</a></td></tr>
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/reviews/showcat.php?cat=myprod&amp;ppuser=659823">View Review Entries</a></td></tr>
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/hcl/showcat.php?cat=myprod&amp;ppuser=659823">View HCL Entries</a></td></tr>
	
	
	
	
	
	
	
		<tr><td class="vbmenu_option"><a href="https://www.linuxquestions.org/questions/search.php?do=finduser&amp;u=659823" rel="nofollow">Find More Posts by AscaL</a></td></tr>
	
	
	
	</tbody></table>
</div>
<!-- / post 4715081 popup menu -->


	</div>
	
		</div>
	</div>
</div>

<!-- / close content container -->

<!-- / post #4715081 --><!-- post #4715144 -->

	<!-- open content container -->

<div align="center">
	<div class="page" style="width:100%; text-align:left">
		<div style="padding:0px 0px 0px 0px" align="left">

	<div id="edit4715144" style="padding:0px 0px 3px 0px">
	<!-- this is not the last post shown on the page -->



<table id="post4715144" class="tborder" width="100%" cellspacing="0" cellpadding="3" border="0" align="center">
<tbody><tr>
	
		<td class="thead" style="font-weight:normal; border: 1px solid #FFFFFF; border-right: 0px">		
			<!-- status icon and date -->
			<a name="post4715144"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/post_old.gif" alt="Old" title="Old" border="0"></a>
			06-29-2012, 12:20 PM
			
			<!-- / status icon and date -->
		</td>
		<td class="thead" style="font-weight:normal; border: 1px solid #FFFFFF; border-left: 0px" align="right">
			&nbsp;
		
			#<a href="https://www.linuxquestions.org/questions/programming-9/tcp-file-transfer-in-c-with-socket-server-client-on-linux-help-with-code-4175413995/#post4715144" rel="nofollow" id="postcount4715144" name="7"><strong>7</strong></a>
			
		
		</td>
	
</tr>
<tr valign="top">
	<td class="alt2" style="border: 1px solid #FFFFFF; border-top: 0px; border-bottom: 0px" width="175">			
			<div id="postmenu_4715144">
				<div class="bigusername">
				<!-- google_ad_section_start(weight=ignore) -->dwhitney67<!-- google_ad_section_end --></div>
				
			</div>
			<div class="smallfont">Senior Member</div>
			
			
			
			
			
			<div class="smallfont">
				&nbsp;<br>
				<div>Registered: Jun 2006</div>
				<div>Location: Maryland</div>
				<div>Distribution: Kubuntu, Fedora, RHEL</div>
				
				<div>
					Posts: 1,533
				</div>
				
				
				
				<br><div><span id="repdisplay_4715144_273414">Rep: <img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_pos.gif" alt="Reputation: 335" title="Reputation: 335" border="0"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_pos.gif" alt="Reputation: 335" title="Reputation: 335" border="0"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_pos.gif" alt="Reputation: 335" title="Reputation: 335" border="0"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_pos.gif" alt="Reputation: 335" title="Reputation: 335" border="0"> <!-- <smallfont>(335)</smallfont>--></span></div>
				
				<div>    </div>
			</div>					
	</td>
	
	<td class="alt2" id="td_post_4715144" style="border-right: 1px solid #FFFFFF">
	
		
		
		

		<!-- message -->


		<div id="post_message_4715144"><!-- google_ad_section_start -->The 
recv() call in your client blocks until there is data to be read.  One 
way to mitigate the blocking is to setup the socket to be, well, 
non-blocking.  However this presents issues such as I described earlier,
 where recv() may return -1 but errno indicates EWOULDBLOCK (which is 
the same as EAGAIN).  This is not an error, but merely an indicator that
 there is nothing to read.<br>
<br>
One way to avoid blocking on recv() is to not call that function unless 
you know that there is indeed something to be read on the socket.  You 
can check the socket using select().  If you provide it a timeout 
period, the client can avoid being locked up.<br>
<br>
A third alternative is to set a "receive timeout" on the socket; you can do this like this:<br>
<div style="margin:20px; margin-top:5px">
	<div class="smallfont" style="margin-bottom:2px">Code:</div>
	<pre class="bbcodeblock" dir="ltr" style="
		margin: 0px;
		margin-right: -99999px;
		padding: 3px;
		border: 1px inset;
		width: 98%;
		height: 98px;
		text-align: left;
		overflow: auto">struct timeval timeout = {5, 0};
if (setsockopt(sd, SOL_SOCKET, SO_RCVTIMEO, (const void*) &amp;timeout, sizeof(timeout)) &lt; 0)
{
    fprintf(stderr, "Error configuring socket for rcv-timeout (errno = %d)\n", errno);
}</pre>
</div>If after 5 seconds, there is no data to receive, the recv() will 
unblock and return a -1 (it's been a while since I've worked with this, 
so the -1 is a guess; it may return 0).<!-- google_ad_section_end --></div>
		<!-- / message -->
	
		
		
		
		

		
		
		
		
		
	
	</td>
</tr>
<tr>
	<td class="alt2" style="border: 1px solid #FFFFFF; border-top: 0px">


		

		
		
		&nbsp;
	</td>

	
	<td class="alt2" style="border: 1px solid #FFFFFF; border-left: 0px; border-top: 0px" align="right">
	
		<!-- controls -->
	
		
		
		
		
		
		
		
		
			
		
		
				
					
			<div id="helpfulanswers_box_4715144">		
								
				
				
					
						1 members found this post helpful.
					
				
					
					
				
				
				
				
			</div>			
			
		
		
		<!-- / controls -->
	</td>
</tr>
</tbody></table>



<!-- post 4715144 popup menu -->
<div class="vbmenu_popup" id="postmenu_4715144_menu" style="display:none">
	<table cellspacing="1" cellpadding="4" border="0">
	<tbody><tr>
		<td class="thead">dwhitney67</td>
	</tr>
	
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/questions/user/dwhitney67-273414/">View Public Profile</a></td></tr>
	
	<tr><td class="vbmenu_option"><a href="https://www.linuxquestions.org/questions/blog/dwhitney67-273414/">View LQ Blog</a></td></tr>
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/reviews/showcat.php?cat=myprod&amp;ppuser=273414">View Review Entries</a></td></tr>
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/hcl/showcat.php?cat=myprod&amp;ppuser=273414">View HCL Entries</a></td></tr>
	
	
	
	
	
	
	
		<tr><td class="vbmenu_option"><a href="https://www.linuxquestions.org/questions/search.php?do=finduser&amp;u=273414" rel="nofollow">Find More Posts by dwhitney67</a></td></tr>
	
	
	
	</tbody></table>
</div>
<!-- / post 4715144 popup menu -->


	</div>
	
		</div>
	</div>
</div>

<!-- / close content container -->

<!-- / post #4715144 --><!-- post #4715170 -->

	<!-- open content container -->

<div align="center">
	<div class="page" style="width:100%; text-align:left">
		<div style="padding:0px 0px 0px 0px" align="left">

	<div id="edit4715170" style="padding:0px 0px 3px 0px">
	<!-- this is not the last post shown on the page -->



<table id="post4715170" class="tborder" width="100%" cellspacing="0" cellpadding="3" border="0" align="center">
<tbody><tr>
	
		<td class="thead" style="font-weight:normal; border: 1px solid #FFFFFF; border-right: 0px">		
			<!-- status icon and date -->
			<a name="post4715170"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/post_old.gif" alt="Old" title="Old" border="0"></a>
			06-29-2012, 12:45 PM
			
			<!-- / status icon and date -->
		</td>
		<td class="thead" style="font-weight:normal; border: 1px solid #FFFFFF; border-left: 0px" align="right">
			&nbsp;
		
			#<a href="https://www.linuxquestions.org/questions/programming-9/tcp-file-transfer-in-c-with-socket-server-client-on-linux-help-with-code-4175413995/#post4715170" rel="nofollow" id="postcount4715170" name="8"><strong>8</strong></a>
			
		
		</td>
	
</tr>
<tr valign="top">
	<td class="alt1" style="border: 1px solid #FFFFFF; border-top: 0px; border-bottom: 0px" width="175">			
			<div id="postmenu_4715170">
				<div class="bigusername">
				<!-- google_ad_section_start(weight=ignore) -->AscaL<!-- google_ad_section_end --></div>
				
			</div>
			<div class="smallfont">LQ Newbie</div>
			
			
			
			
			
			<div class="smallfont">
				&nbsp;<br>
				<div>Registered: Jun 2012</div>
				
				
				
				<div>
					Posts: 7
				</div>
				
				<!-- Threadauthor -->


<br><strong>Original Poster</strong>
<!-- / Threadauthor -->
				
				<br><div><span id="repdisplay_4715170_659823">Rep: <img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_off.gif" alt="Reputation: Disabled" title="Reputation: Disabled" border="0"></span></div>
				
				<div>    </div>
			</div>					
	</td>
	
	<td class="alt1" id="td_post_4715170" style="border-right: 1px solid #FFFFFF">
	
		
		
		

		<!-- message -->


		<div id="post_message_4715170"><!-- google_ad_section_start -->First of all, thank you very very much. You have been immensely(?) helpful. <br>
<br>
I'm not completely getting it... Basically the recv() blocks the client 
until there is data to be read, so since it has to send first it can't 
send? But isn't the send called first in the client? 
(client-&gt;server-&gt;script-&gt;server-&gt;client). Does this work for
 the server too? (do i have to make the server non-blocking too?).<br>
<br>
As for the select() i'm reading it now, and it seems awfully complex to 
set up (or i just suck at this), not that it can't be done, just seem 
complicated.<br>
<br>
I'm looking at the setsockopt too, and this seems like something i can 
set up, but i am not getting where should i put it (probably the answer 
lies in my first question). <br>
Anyway this is the return value for setsockopt (incase u care)<br>
<br>
Upon successful completion, setsockopt() shall return 0. Otherwise, -1 shall be returned and errno set to indicate the error. <br>
<br>
I'm gonna read it now so i can try to understand better. Thanks a lot! (again).<!-- google_ad_section_end --></div>
		<!-- / message -->
	
		
		
		
		

		
		
		
		
		
	
	</td>
</tr>
<tr>
	<td class="alt1" style="border: 1px solid #FFFFFF; border-top: 0px">


		

		
		
		&nbsp;
	</td>

	
	<td class="alt1" style="border: 1px solid #FFFFFF; border-left: 0px; border-top: 0px" align="right">
	
		<!-- controls -->
	
		
		
		
		
		
		
		
		
			
		
		
				
					
			<div id="helpfulanswers_box_4715170">		
								
				
				
					
				
					
					
				
				
				
				
			</div>			
			
		
		
		<!-- / controls -->
	</td>
</tr>
</tbody></table>



<!-- post 4715170 popup menu -->
<div class="vbmenu_popup" id="postmenu_4715170_menu" style="display:none">
	<table cellspacing="1" cellpadding="4" border="0">
	<tbody><tr>
		<td class="thead">AscaL</td>
	</tr>
	
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/questions/user/ascal-659823/">View Public Profile</a></td></tr>
	
	<tr><td class="vbmenu_option"><a href="https://www.linuxquestions.org/questions/blog/AscaL-659823/">View LQ Blog</a></td></tr>
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/reviews/showcat.php?cat=myprod&amp;ppuser=659823">View Review Entries</a></td></tr>
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/hcl/showcat.php?cat=myprod&amp;ppuser=659823">View HCL Entries</a></td></tr>
	
	
	
	
	
	
	
		<tr><td class="vbmenu_option"><a href="https://www.linuxquestions.org/questions/search.php?do=finduser&amp;u=659823" rel="nofollow">Find More Posts by AscaL</a></td></tr>
	
	
	
	</tbody></table>
</div>
<!-- / post 4715170 popup menu -->


	</div>
	
		</div>
	</div>
</div>

<!-- / close content container -->

<!-- / post #4715170 --><!-- post #4715228 -->

	<!-- open content container -->

<div align="center">
	<div class="page" style="width:100%; text-align:left">
		<div style="padding:0px 0px 0px 0px" align="left">

	<div id="edit4715228" style="padding:0px 0px 3px 0px">
	<!-- this is not the last post shown on the page -->



<table id="post4715228" class="tborder" width="100%" cellspacing="0" cellpadding="3" border="0" align="center">
<tbody><tr>
	
		<td class="thead" style="font-weight:normal; border: 1px solid #FFFFFF; border-right: 0px">		
			<!-- status icon and date -->
			<a name="post4715228"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/post_old.gif" alt="Old" title="Old" border="0"></a>
			06-29-2012, 02:17 PM
			
			<!-- / status icon and date -->
		</td>
		<td class="thead" style="font-weight:normal; border: 1px solid #FFFFFF; border-left: 0px" align="right">
			&nbsp;
		
			#<a href="https://www.linuxquestions.org/questions/programming-9/tcp-file-transfer-in-c-with-socket-server-client-on-linux-help-with-code-4175413995/#post4715228" rel="nofollow" id="postcount4715228" name="9"><strong>9</strong></a>
			
		
		</td>
	
</tr>
<tr valign="top">
	<td class="alt2" style="border: 1px solid #FFFFFF; border-top: 0px; border-bottom: 0px" width="175">			
			<div id="postmenu_4715228">
				<div class="bigusername">
				<!-- google_ad_section_start(weight=ignore) -->dwhitney67<!-- google_ad_section_end --></div>
				
			</div>
			<div class="smallfont">Senior Member</div>
			
			
			
			
			
			<div class="smallfont">
				&nbsp;<br>
				<div>Registered: Jun 2006</div>
				<div>Location: Maryland</div>
				<div>Distribution: Kubuntu, Fedora, RHEL</div>
				
				<div>
					Posts: 1,533
				</div>
				
				
				
				<br><div><span id="repdisplay_4715228_273414">Rep: <img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_pos.gif" alt="Reputation: 335" title="Reputation: 335" border="0"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_pos.gif" alt="Reputation: 335" title="Reputation: 335" border="0"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_pos.gif" alt="Reputation: 335" title="Reputation: 335" border="0"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_pos.gif" alt="Reputation: 335" title="Reputation: 335" border="0"> <!-- <smallfont>(335)</smallfont>--></span></div>
				
				<div>    </div>
			</div>					
	</td>
	
	<td class="alt2" id="td_post_4715228" style="border-right: 1px solid #FFFFFF">
	
		
		
		

		<!-- message -->


		<div id="post_message_4715228"><!-- google_ad_section_start --><div style="margin:20px; margin-top:5px; ">
	<div class="smallfont" style="margin-bottom:2px">Quote:</div>
	<table width="100%" cellspacing="0" cellpadding="3" border="0">
	<tbody><tr>
		<td class="bbcodeblock" style="border:1px inset">
			
				<div>
					Originally Posted by <strong>AscaL</strong>
					<a href="https://www.linuxquestions.org/questions/programming-9/tcp-file-transfer-in-c-with-socket-server-client-on-linux-help-with-code-4175413995/#post4715170" rel="nofollow"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/viewpost.gif" alt="View Post" title="View Post" border="0"></a>
				</div>
				<div style="font-style:italic">I'm looking at the setsockopt too, 
and this seems like something i can set up, but i am not getting where 
should i put it (probably the answer lies in my first question). </div>
			
		</td>
	</tr>
	</tbody></table>
</div>You call setsockopt() after you have created the socket.  For example:<br>
<div style="margin:20px; margin-top:5px">
	<div class="smallfont" style="margin-bottom:2px">Code:</div>
	<pre class="bbcodeblock" dir="ltr" style="
		margin: 0px;
		margin-right: -99999px;
		padding: 3px;
		border: 1px inset;
		width: 98%;
		height: 498px;
		text-align: left;
		overflow: auto">...
    int sd = socket(AF_INET, SOCK_STREAM, 0);

    if (sd &gt; 0)
    {
        struct timeval timeout = {5, 0};

        if (setsockopt(sd, SOL_SOCKET, SO_RCVTIMEO, (const void*) &amp;timeout, sizeof(timeout)) &lt; 0)
        {
            fprintf(stderr, "Error configuring socket for rcv-timeout (errno = %d)\n", errno);
            return -1;
        }

        /*... connect to server ... */

        /* receive data */
        char buf[1024];
        int  ret = 0;

        do
        {
            ret = recv(sd, buf, sizeof(buf), 0);

            if (ret &lt; 0)
            {
                if (errno == EAGAIN)
                {
                    printf("recv() timed out.\n");
                }
                else
                {
                    fprintf(stderr, "recv() failed due to errno = %d\n", errno);
                }
            }
        } while (ret &gt;= 0);
    }
...</pre>
</div><!-- google_ad_section_end --></div>
		<!-- / message -->
	
		
		
		
		

		
		
		
		
		
	
	</td>
</tr>
<tr>
	<td class="alt2" style="border: 1px solid #FFFFFF; border-top: 0px">


		

		
		
		&nbsp;
	</td>

	
	<td class="alt2" style="border: 1px solid #FFFFFF; border-left: 0px; border-top: 0px" align="right">
	
		<!-- controls -->
	
		
		
		
		
		
		
		
		
			
		
		
				
					
			<div id="helpfulanswers_box_4715228">		
								
				
				
					
						1 members found this post helpful.
					
				
					
					
				
				
				
				
			</div>			
			
		
		
		<!-- / controls -->
	</td>
</tr>
</tbody></table>



<!-- post 4715228 popup menu -->
<div class="vbmenu_popup" id="postmenu_4715228_menu" style="display:none">
	<table cellspacing="1" cellpadding="4" border="0">
	<tbody><tr>
		<td class="thead">dwhitney67</td>
	</tr>
	
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/questions/user/dwhitney67-273414/">View Public Profile</a></td></tr>
	
	<tr><td class="vbmenu_option"><a href="https://www.linuxquestions.org/questions/blog/dwhitney67-273414/">View LQ Blog</a></td></tr>
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/reviews/showcat.php?cat=myprod&amp;ppuser=273414">View Review Entries</a></td></tr>
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/hcl/showcat.php?cat=myprod&amp;ppuser=273414">View HCL Entries</a></td></tr>
	
	
	
	
	
	
	
		<tr><td class="vbmenu_option"><a href="https://www.linuxquestions.org/questions/search.php?do=finduser&amp;u=273414" rel="nofollow">Find More Posts by dwhitney67</a></td></tr>
	
	
	
	</tbody></table>
</div>
<!-- / post 4715228 popup menu -->


	</div>
	
		</div>
	</div>
</div>

<!-- / close content container -->

<!-- / post #4715228 --><!-- post #4715266 -->

	<!-- open content container -->

<div align="center">
	<div class="page" style="width:100%; text-align:left">
		<div style="padding:0px 0px 0px 0px" align="left">

	<div id="edit4715266" style="padding:0px 0px 3px 0px">
	<!-- this is not the last post shown on the page -->



<table id="post4715266" class="tborder" width="100%" cellspacing="0" cellpadding="3" border="0" align="center">
<tbody><tr>
	
		<td class="thead" style="font-weight:normal; border: 1px solid #FFFFFF; border-right: 0px">		
			<!-- status icon and date -->
			<a name="post4715266"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/post_old.gif" alt="Old" title="Old" border="0"></a>
			06-29-2012, 03:01 PM
			
			<!-- / status icon and date -->
		</td>
		<td class="thead" style="font-weight:normal; border: 1px solid #FFFFFF; border-left: 0px" align="right">
			&nbsp;
		
			#<a href="https://www.linuxquestions.org/questions/programming-9/tcp-file-transfer-in-c-with-socket-server-client-on-linux-help-with-code-4175413995/#post4715266" rel="nofollow" id="postcount4715266" name="10"><strong>10</strong></a>
			
		
		</td>
	
</tr>
<tr valign="top">
	<td class="alt1" style="border: 1px solid #FFFFFF; border-top: 0px; border-bottom: 0px" width="175">			
			<div id="postmenu_4715266">
				<div class="bigusername">
				<!-- google_ad_section_start(weight=ignore) -->AscaL<!-- google_ad_section_end --></div>
				
			</div>
			<div class="smallfont">LQ Newbie</div>
			
			
			
			
			
			<div class="smallfont">
				&nbsp;<br>
				<div>Registered: Jun 2012</div>
				
				
				
				<div>
					Posts: 7
				</div>
				
				<!-- Threadauthor -->


<br><strong>Original Poster</strong>
<!-- / Threadauthor -->
				
				<br><div><span id="repdisplay_4715266_659823">Rep: <img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_off.gif" alt="Reputation: Disabled" title="Reputation: Disabled" border="0"></span></div>
				
				<div>    </div>
			</div>					
	</td>
	
	<td class="alt1" id="td_post_4715266" style="border-right: 1px solid #FFFFFF">
	
		
		
		

		<!-- message -->


		<div id="post_message_4715266"><!-- google_ad_section_start -->Hey, I implemented (ok, i copied) the setsockopt the same way it is in the example (and again, thanks).<br>
That's what happens: <br>
case 1: with fork()<br>
I start the client and server. After 5 sec i get this:<br>
<div style="margin:20px; margin-top:5px">
	<div class="smallfont" style="margin-bottom:2px">Code:</div>
	<pre class="bbcodeblock" dir="ltr" style="
		margin: 0px;
		margin-right: -99999px;
		padding: 3px;
		border: 1px inset;
		width: 98%;
		height: 146px;
		text-align: left;
		overflow: auto">[Client] Connected to server at port 20000...ok!
[Client] Sending /home/aryan/Desktop/quotidiani.txt to the Server...Ok File /home/aryan/Desktop/quotidiani.txt from Client was Sent!
[Client] Receiveing file from Server and saving it as final.txt...recv() timed out.
[Client] Receiveing file from Server and saving it as final.txt...recv() timed out. (Since client closes i don't receive this obviusly)
Ok received from server!
Ok received from server!
[Client] Connection lost.
[Client] Connection lost. (And it closes)</pre>
</div>and then the server receive the file from client, apply the script and hangs waiting.<br>
case 2: without fork()<br>
Since there were 2 [Client] messages i tought of eliminating the fork, the result is basically the same:<br>
<div style="margin:20px; margin-top:5px">
	<div class="smallfont" style="margin-bottom:2px">Code:</div>
	<pre class="bbcodeblock" dir="ltr" style="
		margin: 0px;
		margin-right: -99999px;
		padding: 3px;
		border: 1px inset;
		width: 98%;
		height: 98px;
		text-align: left;
		overflow: auto">[Client] Connected to server at port 20000...ok!
[Client] Sending /home/aryan/Desktop/quotidiani.txt to the Server...Ok File /home/aryan/Desktop/quotidiani.txt from Client was Sent!
[Client] Receiveing file from Server and saving it as final.txt...recv() timed out.
Ok received from server!
[Client] Connection lost.</pre>
</div>Also, i tried commenting the close(sockfd); hoping that the client
 would not exit, but it does, so i guess there is an error of some kind.<br>
<br>
I'm happy this is now kinda working (well is getting better atleast) but
 the client still closes, whether i do it manually or with the 
sockopt...And I don't get where is the error!<br>
This thing is driving me crazy :S<!-- google_ad_section_end --></div>
		<!-- / message -->
	
		
		
		
		

		
		
		
		
		
	
	</td>
</tr>
<tr>
	<td class="alt1" style="border: 1px solid #FFFFFF; border-top: 0px">


		

		
		
		&nbsp;
	</td>

	
	<td class="alt1" style="border: 1px solid #FFFFFF; border-left: 0px; border-top: 0px" align="right">
	
		<!-- controls -->
	
		
		
		
		
		
		
		
		
			
		
		
				
					
			<div id="helpfulanswers_box_4715266">		
								
				
				
					
				
					
					
				
				
				
				
			</div>			
			
		
		
		<!-- / controls -->
	</td>
</tr>
</tbody></table>



<!-- post 4715266 popup menu -->
<div class="vbmenu_popup" id="postmenu_4715266_menu" style="display:none">
	<table cellspacing="1" cellpadding="4" border="0">
	<tbody><tr>
		<td class="thead">AscaL</td>
	</tr>
	
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/questions/user/ascal-659823/">View Public Profile</a></td></tr>
	
	<tr><td class="vbmenu_option"><a href="https://www.linuxquestions.org/questions/blog/AscaL-659823/">View LQ Blog</a></td></tr>
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/reviews/showcat.php?cat=myprod&amp;ppuser=659823">View Review Entries</a></td></tr>
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/hcl/showcat.php?cat=myprod&amp;ppuser=659823">View HCL Entries</a></td></tr>
	
	
	
	
	
	
	
		<tr><td class="vbmenu_option"><a href="https://www.linuxquestions.org/questions/search.php?do=finduser&amp;u=659823" rel="nofollow">Find More Posts by AscaL</a></td></tr>
	
	
	
	</tbody></table>
</div>
<!-- / post 4715266 popup menu -->


	</div>
	
		</div>
	</div>
</div>

<!-- / close content container -->

<!-- / post #4715266 --><!-- post #4715331 -->

	<!-- open content container -->

<div align="center">
	<div class="page" style="width:100%; text-align:left">
		<div style="padding:0px 0px 0px 0px" align="left">

	<div id="edit4715331" style="padding:0px 0px 3px 0px">
	<!-- this is not the last post shown on the page -->



<table id="post4715331" class="tborder" width="100%" cellspacing="0" cellpadding="3" border="0" align="center">
<tbody><tr>
	
		<td class="thead" style="font-weight:normal; border: 1px solid #FFFFFF; border-right: 0px">		
			<!-- status icon and date -->
			<a name="post4715331"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/post_old.gif" alt="Old" title="Old" border="0"></a>
			06-29-2012, 04:24 PM
			
			<!-- / status icon and date -->
		</td>
		<td class="thead" style="font-weight:normal; border: 1px solid #FFFFFF; border-left: 0px" align="right">
			&nbsp;
		
			#<a href="https://www.linuxquestions.org/questions/programming-9/tcp-file-transfer-in-c-with-socket-server-client-on-linux-help-with-code-4175413995/#post4715331" rel="nofollow" id="postcount4715331" name="11"><strong>11</strong></a>
			
		
		</td>
	
</tr>
<tr valign="top">
	<td class="alt2" style="border: 1px solid #FFFFFF; border-top: 0px; border-bottom: 0px" width="175">			
			<div id="postmenu_4715331">
				<div class="bigusername">
				<!-- google_ad_section_start(weight=ignore) -->AscaL<!-- google_ad_section_end --></div>
				
			</div>
			<div class="smallfont">LQ Newbie</div>
			
			
			
			
			
			<div class="smallfont">
				&nbsp;<br>
				<div>Registered: Jun 2012</div>
				
				
				
				<div>
					Posts: 7
				</div>
				
				<!-- Threadauthor -->


<br><strong>Original Poster</strong>
<!-- / Threadauthor -->
				
				<br><div><span id="repdisplay_4715331_659823">Rep: <img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_off.gif" alt="Reputation: Disabled" title="Reputation: Disabled" border="0"></span></div>
				
				<div>    </div>
			</div>					
	</td>
	
	<td class="alt2" id="td_post_4715331" style="border-right: 1px solid #FFFFFF">
	
		
		
		

		<!-- message -->


		<div id="post_message_4715331"><!-- google_ad_section_start -->So, I HAVE DONE IT!!!<br>
Thank you dwhitney67 this wouldn't have been possible without you!<br>
<br>
So, for anyone who cares about this (anyone?... so much silence) i'll post the source codes.<br>
Thank you again!<br>
<br>
client.c: <br>
<br>
<div style="margin:20px; margin-top:5px">
	<div class="smallfont" style="margin-bottom:2px">Code:</div>
	<pre class="bbcodeblock" dir="ltr" style="
		margin: 0px;
		margin-right: -99999px;
		padding: 3px;
		border: 1px inset;
		width: 98%;
		height: 498px;
		text-align: left;
		overflow: auto">#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;
#include &lt;errno.h&gt;
#include &lt;string.h&gt;
#include &lt;sys/types.h&gt;
#include &lt;netinet/in.h&gt;
#include &lt;sys/wait.h&gt;
#include &lt;sys/socket.h&gt;
#include &lt;signal.h&gt;
#include &lt;ctype.h&gt;          
#include &lt;arpa/inet.h&gt;
#include &lt;netdb.h&gt;

#define PORT 20000
#define LENGTH 512 


void error(const char *msg)
{
	perror(msg);
	exit(1);
}

int main(int argc, char *argv[])
{
	/* Variable Definition */
	int sockfd; 
	int nsockfd;
	char revbuf[LENGTH]; 
	struct sockaddr_in remote_addr;

	/* Get the Socket file descriptor */
	if ((sockfd = socket(AF_INET, SOCK_STREAM, 0)) == -1)
	{
		fprintf(stderr, "ERROR: Failed to obtain Socket Descriptor! (errno = %d)\n",errno);
		exit(1);
	}

	/* Fill the socket address struct */
	remote_addr.sin_family = AF_INET; 
	remote_addr.sin_port = htons(PORT); 
	inet_pton(AF_INET, "127.0.0.1", &amp;remote_addr.sin_addr); 
	bzero(&amp;(remote_addr.sin_zero), 8);

	/* Try to connect the remote */
	if (connect(sockfd, (struct sockaddr *)&amp;remote_addr, sizeof(struct sockaddr)) == -1)
	{
		fprintf(stderr, "ERROR: Failed to connect to the host! (errno = %d)\n",errno);
		exit(1);
	}
	else 
		printf("[Client] Connected to server at port %d...ok!\n", PORT);

	/* Send File to Server */
	//if(!fork())
	//{
		char* fs_name = "/home/aryan/Desktop/quotidiani.txt";
		char sdbuf[LENGTH]; 
		printf("[Client] Sending %s to the Server... ", fs_name);
		FILE *fs = fopen(fs_name, "r");
		if(fs == NULL)
		{
			printf("ERROR: File %s not found.\n", fs_name);
			exit(1);
		}

		bzero(sdbuf, LENGTH); 
		int fs_block_sz; 
		while((fs_block_sz = fread(sdbuf, sizeof(char), LENGTH, fs)) &gt; 0)
		{
		    if(send(sockfd, sdbuf, fs_block_sz, 0) &lt; 0)
		    {
		        fprintf(stderr, "ERROR: Failed to send file %s. (errno = %d)\n", fs_name, errno);
		        break;
		    }
		    bzero(sdbuf, LENGTH);
		}
		printf("Ok File %s from Client was Sent!\n", fs_name);
	//}

	/* Receive File from Server */
	printf("[Client] Receiveing file from Server and saving it as final.txt...");
	char* fr_name = "/home/aryan/Desktop/progetto/final.txt";
	FILE *fr = fopen(fr_name, "a");
	if(fr == NULL)
		printf("File %s Cannot be opened.\n", fr_name);
	else
	{
		bzero(revbuf, LENGTH); 
		int fr_block_sz = 0;
	    while((fr_block_sz = recv(sockfd, revbuf, LENGTH, 0)) &gt; 0)
	    {
			int write_sz = fwrite(revbuf, sizeof(char), fr_block_sz, fr);
	        if(write_sz &lt; fr_block_sz)
			{
	            error("File write failed.\n");
	        }
			bzero(revbuf, LENGTH);
			if (fr_block_sz == 0 || fr_block_sz != 512) 
			{
				break;
			}
		}
		if(fr_block_sz &lt; 0)
        {
			if (errno == EAGAIN)
			{
				printf("recv() timed out.\n");
			}
			else
			{
				fprintf(stderr, "recv() failed due to errno = %d\n", errno);
			}
		}
	    printf("Ok received from server!\n");
	    fclose(fr);
	}
	close (sockfd);
	printf("[Client] Connection lost.\n");
	return (0);
}</pre>
</div>server.c: <br>
<br>
<div style="margin:20px; margin-top:5px">
	<div class="smallfont" style="margin-bottom:2px">Code:</div>
	<pre class="bbcodeblock" dir="ltr" style="
		margin: 0px;
		margin-right: -99999px;
		padding: 3px;
		border: 1px inset;
		width: 98%;
		height: 498px;
		text-align: left;
		overflow: auto">#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;
#include &lt;errno.h&gt;
#include &lt;string.h&gt;
#include &lt;sys/types.h&gt;
#include &lt;netinet/in.h&gt;
#include &lt;sys/wait.h&gt;
#include &lt;sys/socket.h&gt;
#include &lt;signal.h&gt;
#include &lt;ctype.h&gt;          
#include &lt;arpa/inet.h&gt;
#include &lt;netdb.h&gt;

#define PORT 20000 
#define BACKLOG 5
#define LENGTH 512 

void error(const char *msg)
{
	perror(msg);
	exit(1);
}

int main ()
{
	/* Defining Variables */
	int sockfd; 
	int nsockfd; 
	int num;
	int sin_size; 
	struct sockaddr_in addr_local; /* client addr */
	struct sockaddr_in addr_remote; /* server addr */
	char revbuf[LENGTH]; // Receiver buffer

	/* Get the Socket file descriptor */
	if((sockfd = socket(AF_INET, SOCK_STREAM, 0)) == -1 )
	{
		fprintf(stderr, "ERROR: Failed to obtain Socket Descriptor. (errno = %d)\n", errno);
		exit(1);
	}
	else 
		printf("[Server] Obtaining socket descriptor successfully.\n");

	/* Fill the client socket address struct */
	addr_local.sin_family = AF_INET; // Protocol Family
	addr_local.sin_port = htons(PORT); // Port number
	addr_local.sin_addr.s_addr = INADDR_ANY; // AutoFill local address
	bzero(&amp;(addr_local.sin_zero), 8); // Flush the rest of struct

	/* Bind a special Port */
	if( bind(sockfd, (struct sockaddr*)&amp;addr_local, sizeof(struct sockaddr)) == -1 )
	{
		fprintf(stderr, "ERROR: Failed to bind Port. (errno = %d)\n", errno);
		exit(1);
	}
	else 
		printf("[Server] Binded tcp port %d in addr 127.0.0.1 sucessfully.\n",PORT);

	/* Listen remote connect/calling */
	if(listen(sockfd,BACKLOG) == -1)
	{
		fprintf(stderr, "ERROR: Failed to listen Port. (errno = %d)\n", errno);
		exit(1);
	}
	else
		printf ("[Server] Listening the port %d successfully.\n", PORT);

	int success = 0;
	while(success == 0)
	{
		sin_size = sizeof(struct sockaddr_in);

		/* Wait a connection, and obtain a new socket file despriptor for single connection */
		if ((nsockfd = accept(sockfd, (struct sockaddr *)&amp;addr_remote, &amp;sin_size)) == -1) 
		{
		    fprintf(stderr, "ERROR: Obtaining new Socket Despcritor. (errno = %d)\n", errno);
			exit(1);
		}
		else 
			printf("[Server] Server has got connected from %s.\n", inet_ntoa(addr_remote.sin_addr));

		/*Receive File from Client */
		char* fr_name = "/home/aryan/Desktop/receive.txt";
		FILE *fr = fopen(fr_name, "a");
		if(fr == NULL)
			printf("File %s Cannot be opened file on server.\n", fr_name);
		else
		{
			bzero(revbuf, LENGTH); 
			int fr_block_sz = 0;
			while((fr_block_sz = recv(nsockfd, revbuf, LENGTH, 0)) &gt; 0) 
			{
			    int write_sz = fwrite(revbuf, sizeof(char), fr_block_sz, fr);
				if(write_sz &lt; fr_block_sz)
			    {
			        error("File write failed on server.\n");
			    }
				bzero(revbuf, LENGTH);
				if (fr_block_sz == 0 || fr_block_sz != 512) 
				{
					break;
				}
			}
			if(fr_block_sz &lt; 0)
		    {
		        if (errno == EAGAIN)
	        	{
	                printf("recv() timed out.\n");
	            }
	            else
	            {
	                fprintf(stderr, "recv() failed due to errno = %d\n", errno);
					exit(1);
	            }
        	}
			printf("Ok received from client!\n");
			fclose(fr); 
		}

		/* Call the Script */
		system("cd ; chmod +x script.sh ; ./script.sh");

		/* Send File to Client */
		//if(!fork())
		//{
		    char* fs_name = "/home/aryan/Desktop/output.txt";
		    char sdbuf[LENGTH]; // Send buffer
		    printf("[Server] Sending %s to the Client...", fs_name);
		    FILE *fs = fopen(fs_name, "r");
		    if(fs == NULL)
		    {
		        fprintf(stderr, "ERROR: File %s not found on server. (errno = %d)\n", fs_name, errno);
				exit(1);
		    }

		    bzero(sdbuf, LENGTH); 
		    int fs_block_sz; 
		    while((fs_block_sz = fread(sdbuf, sizeof(char), LENGTH, fs))&gt;0)
		    {
		        if(send(nsockfd, sdbuf, fs_block_sz, 0) &lt; 0)
		        {
		            fprintf(stderr, "ERROR: Failed to send file %s. (errno = %d)\n", fs_name, errno);
		            exit(1);
		        }
		        bzero(sdbuf, LENGTH);
		    }
		    printf("Ok sent to client!\n");
		    success = 1;
		    close(nsockfd);
		    printf("[Server] Connection with Client closed. Server will wait now...\n");
		    while(waitpid(-1, NULL, WNOHANG) &gt; 0);
		//}
	}
}</pre>
</div>Thank you for helping me!<!-- google_ad_section_end --></div>
		<!-- / message -->
	
		
		
		
		

		
		
		
		
		
	
	</td>
</tr>
<tr>
	<td class="alt2" style="border: 1px solid #FFFFFF; border-top: 0px">


		

		
		
		&nbsp;
	</td>

	
	<td class="alt2" style="border: 1px solid #FFFFFF; border-left: 0px; border-top: 0px" align="right">
	
		<!-- controls -->
	
		
		
		
		
		
		
		
		
			
		
		
				
					
			<div id="helpfulanswers_box_4715331">		
								
				
				
					
				
					
					
				
				
				
				
			</div>			
			
		
		
		<!-- / controls -->
	</td>
</tr>
</tbody></table>



<!-- post 4715331 popup menu -->
<div class="vbmenu_popup" id="postmenu_4715331_menu" style="display:none">
	<table cellspacing="1" cellpadding="4" border="0">
	<tbody><tr>
		<td class="thead">AscaL</td>
	</tr>
	
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/questions/user/ascal-659823/">View Public Profile</a></td></tr>
	
	<tr><td class="vbmenu_option"><a href="https://www.linuxquestions.org/questions/blog/AscaL-659823/">View LQ Blog</a></td></tr>
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/reviews/showcat.php?cat=myprod&amp;ppuser=659823">View Review Entries</a></td></tr>
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/hcl/showcat.php?cat=myprod&amp;ppuser=659823">View HCL Entries</a></td></tr>
	
	
	
	
	
	
	
		<tr><td class="vbmenu_option"><a href="https://www.linuxquestions.org/questions/search.php?do=finduser&amp;u=659823" rel="nofollow">Find More Posts by AscaL</a></td></tr>
	
	
	
	</tbody></table>
</div>
<!-- / post 4715331 popup menu -->


	</div>
	
		</div>
	</div>
</div>

<!-- / close content container -->

<!-- / post #4715331 --><!-- post #5388260 -->

	<!-- open content container -->

<div align="center">
	<div class="page" style="width:100%; text-align:left">
		<div style="padding:0px 0px 0px 0px" align="left">

	<div id="edit5388260" style="padding:0px 0px 3px 0px">
	<!-- this is not the last post shown on the page -->



<table id="post5388260" class="tborder" width="100%" cellspacing="0" cellpadding="3" border="0" align="center">
<tbody><tr>
	
		<td class="thead" style="font-weight:normal; border: 1px solid #FFFFFF; border-right: 0px">		
			<!-- status icon and date -->
			<a name="post5388260"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/post_old.gif" alt="Old" title="Old" border="0"></a>
			07-07-2015, 02:01 AM
			
			<!-- / status icon and date -->
		</td>
		<td class="thead" style="font-weight:normal; border: 1px solid #FFFFFF; border-left: 0px" align="right">
			&nbsp;
		
			#<a href="https://www.linuxquestions.org/questions/programming-9/tcp-file-transfer-in-c-with-socket-server-client-on-linux-help-with-code-4175413995/#post5388260" rel="nofollow" id="postcount5388260" name="12"><strong>12</strong></a>
			
		
		</td>
	
</tr>
<tr valign="top">
	<td class="alt1" style="border: 1px solid #FFFFFF; border-top: 0px; border-bottom: 0px" width="175">			
			<div id="postmenu_5388260">
				<div class="bigusername">
				<!-- google_ad_section_start(weight=ignore) -->tanmoy_sil<!-- google_ad_section_end --></div>
				
			</div>
			<div class="smallfont">LQ Newbie</div>
			
			
			
			
			
			<div class="smallfont">
				&nbsp;<br>
				<div>Registered: Jul 2015</div>
				
				
				
				<div>
					Posts: 2
				</div>
				
				
				
				<br><div><span id="repdisplay_5388260_1013526">Rep: <img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_off.gif" alt="Reputation: Disabled" title="Reputation: Disabled" border="0"></span></div>
				
				<div>    </div>
			</div>					
	</td>
	
	<td class="alt1" id="td_post_5388260" style="border-right: 1px solid #FFFFFF">
	
		
		
			<!-- icon and title -->
			<div class="smallfont">
				
				<strong><!-- google_ad_section_start -->help needed<!-- google_ad_section_end --></strong>
			</div>
			<hr style="color:#FFFFFF" size="1">
			<!-- / icon and title -->
		
		

		<!-- message -->


		<div id="post_message_5388260"><!-- google_ad_section_start -->can you please post the script you are using. i really need this program urgently.<!-- google_ad_section_end --></div>
		<!-- / message -->
	
		
		
		
		

		
		
		
		
		
	
	</td>
</tr>
<tr>
	<td class="alt1" style="border: 1px solid #FFFFFF; border-top: 0px">


		

		
		
		&nbsp;
	</td>

	
	<td class="alt1" style="border: 1px solid #FFFFFF; border-left: 0px; border-top: 0px" align="right">
	
		<!-- controls -->
	
		
		
		
		
		
		
		
		
			
		
		
				
					
			<div id="helpfulanswers_box_5388260">		
								
				
				
					
				
					
					
				
				
				
				
			</div>			
			
		
		
		<!-- / controls -->
	</td>
</tr>
</tbody></table>



<!-- post 5388260 popup menu -->
<div class="vbmenu_popup" id="postmenu_5388260_menu" style="display:none">
	<table cellspacing="1" cellpadding="4" border="0">
	<tbody><tr>
		<td class="thead">tanmoy_sil</td>
	</tr>
	
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/questions/user/tanmoy_sil-1013526/">View Public Profile</a></td></tr>
	
	<tr><td class="vbmenu_option"><a href="https://www.linuxquestions.org/questions/blog/tanmoy_sil-1013526/">View LQ Blog</a></td></tr>
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/reviews/showcat.php?cat=myprod&amp;ppuser=1013526">View Review Entries</a></td></tr>
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/hcl/showcat.php?cat=myprod&amp;ppuser=1013526">View HCL Entries</a></td></tr>
	
	
	
	
	
	
	
		<tr><td class="vbmenu_option"><a href="https://www.linuxquestions.org/questions/search.php?do=finduser&amp;u=1013526" rel="nofollow">Find More Posts by tanmoy_sil</a></td></tr>
	
	
	
	</tbody></table>
</div>
<!-- / post 5388260 popup menu -->


	</div>
	
		</div>
	</div>
</div>

<!-- / close content container -->

<!-- / post #5388260 --><!-- post #5388485 -->

	<!-- open content container -->

<div align="center">
	<div class="page" style="width:100%; text-align:left">
		<div style="padding:0px 0px 0px 0px" align="left">

	<div id="edit5388485" style="padding:0px 0px 3px 0px">
	<!-- this is not the last post shown on the page -->



<table id="post5388485" class="tborder" width="100%" cellspacing="0" cellpadding="3" border="0" align="center">
<tbody><tr>
	
		<td class="thead" style="font-weight:normal; border: 1px solid #FFFFFF; border-right: 0px">		
			<!-- status icon and date -->
			<a name="post5388485"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/post_old.gif" alt="Old" title="Old" border="0"></a>
			07-07-2015, 01:40 PM
			
			<!-- / status icon and date -->
		</td>
		<td class="thead" style="font-weight:normal; border: 1px solid #FFFFFF; border-left: 0px" align="right">
			&nbsp;
		
			#<a href="https://www.linuxquestions.org/questions/programming-9/tcp-file-transfer-in-c-with-socket-server-client-on-linux-help-with-code-4175413995/#post5388485" rel="nofollow" id="postcount5388485" name="13"><strong>13</strong></a>
			
		
		</td>
	
</tr>
<tr valign="top">
	<td class="alt2" style="border: 1px solid #FFFFFF; border-top: 0px; border-bottom: 0px" width="175">			
			<div id="postmenu_5388485">
				<div class="bigusername">
				<!-- google_ad_section_start(weight=ignore) -->NevemTeve<!-- google_ad_section_end --></div>
				
			</div>
			<div class="smallfont">Senior Member</div>
			
			
			
			
			
			<div class="smallfont">
				&nbsp;<br>
				<div>Registered: Oct 2011</div>
				<div>Location: Budapest</div>
				<div>Distribution: Debian/GNU/Linux, AIX</div>
				
				<div>
					Posts: 3,595
				</div>
				
				
				
				<br><div><span id="repdisplay_5388485_616156">Rep: <img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_pos.gif" alt="Reputation: 1101" title="Reputation: 1101" border="0"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_pos.gif" alt="Reputation: 1101" title="Reputation: 1101" border="0"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_pos.gif" alt="Reputation: 1101" title="Reputation: 1101" border="0"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_pos.gif" alt="Reputation: 1101" title="Reputation: 1101" border="0"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_pos.gif" alt="Reputation: 1101" title="Reputation: 1101" border="0"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_highpos.gif" alt="Reputation: 1101" title="Reputation: 1101" border="0"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_highpos.gif" alt="Reputation: 1101" title="Reputation: 1101" border="0"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_highpos.gif" alt="Reputation: 1101" title="Reputation: 1101" border="0"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_highpos.gif" alt="Reputation: 1101" title="Reputation: 1101" border="0"> <!-- <smallfont>(1101)</smallfont>--></span></div>
				
				<div>    </div>
			</div>					
	</td>
	
	<td class="alt2" id="td_post_5388485" style="border-right: 1px solid #FFFFFF">
	
		
		
		

		<!-- message -->


		<div id="post_message_5388485"><!-- google_ad_section_start -->What "script" do you mean?<!-- google_ad_section_end --></div>
		<!-- / message -->
	
		
		
		
		

		
		
		
		
		
	
	</td>
</tr>
<tr>
	<td class="alt2" style="border: 1px solid #FFFFFF; border-top: 0px">


		

		
		
		&nbsp;
	</td>

	
	<td class="alt2" style="border: 1px solid #FFFFFF; border-left: 0px; border-top: 0px" align="right">
	
		<!-- controls -->
	
		
		
		
		
		
		
		
		
			
		
		
				
					
			<div id="helpfulanswers_box_5388485">		
								
				
				
					
				
					
					
				
				
				
				
			</div>			
			
		
		
		<!-- / controls -->
	</td>
</tr>
</tbody></table>



<!-- post 5388485 popup menu -->
<div class="vbmenu_popup" id="postmenu_5388485_menu" style="display:none">
	<table cellspacing="1" cellpadding="4" border="0">
	<tbody><tr>
		<td class="thead">NevemTeve</td>
	</tr>
	
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/questions/user/nevemteve-616156/">View Public Profile</a></td></tr>
	
	<tr><td class="vbmenu_option"><a href="https://www.linuxquestions.org/questions/blog/NevemTeve-616156/">View LQ Blog</a></td></tr>
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/reviews/showcat.php?cat=myprod&amp;ppuser=616156">View Review Entries</a></td></tr>
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/hcl/showcat.php?cat=myprod&amp;ppuser=616156">View HCL Entries</a></td></tr>
	
	
	
	
	
	
	
		<tr><td class="vbmenu_option"><a href="https://www.linuxquestions.org/questions/search.php?do=finduser&amp;u=616156" rel="nofollow">Find More Posts by NevemTeve</a></td></tr>
	
	
	
	</tbody></table>
</div>
<!-- / post 5388485 popup menu -->


	</div>
	
		</div>
	</div>
</div>

<!-- / close content container -->

<!-- / post #5388485 --><!-- post #5388488 -->

	<!-- open content container -->

<div align="center">
	<div class="page" style="width:100%; text-align:left">
		<div style="padding:0px 0px 0px 0px" align="left">

	<div id="edit5388488" style="padding:0px 0px 3px 0px">
	<!-- this is not the last post shown on the page -->



<table id="post5388488" class="tborder" width="100%" cellspacing="0" cellpadding="3" border="0" align="center">
<tbody><tr>
	
		<td class="thead" style="font-weight:normal; border: 1px solid #FFFFFF; border-right: 0px">		
			<!-- status icon and date -->
			<a name="post5388488"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/post_old.gif" alt="Old" title="Old" border="0"></a>
			07-07-2015, 01:43 PM
			
			<!-- / status icon and date -->
		</td>
		<td class="thead" style="font-weight:normal; border: 1px solid #FFFFFF; border-left: 0px" align="right">
			&nbsp;
		
			#<a href="https://www.linuxquestions.org/questions/programming-9/tcp-file-transfer-in-c-with-socket-server-client-on-linux-help-with-code-4175413995/#post5388488" rel="nofollow" id="postcount5388488" name="14"><strong>14</strong></a>
			
		
		</td>
	
</tr>
<tr valign="top">
	<td class="alt1" style="border: 1px solid #FFFFFF; border-top: 0px; border-bottom: 0px" width="175">			
			<div id="postmenu_5388488">
				<div class="bigusername">
				<!-- google_ad_section_start(weight=ignore) -->tanmoy_sil<!-- google_ad_section_end --></div>
				
			</div>
			<div class="smallfont">LQ Newbie</div>
			
			
			
			
			
			<div class="smallfont">
				&nbsp;<br>
				<div>Registered: Jul 2015</div>
				
				
				
				<div>
					Posts: 2
				</div>
				
				
				
				<br><div><span id="repdisplay_5388488_1013526">Rep: <img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_off.gif" alt="Reputation: Disabled" title="Reputation: Disabled" border="0"></span></div>
				
				<div>    </div>
			</div>					
	</td>
	
	<td class="alt1" id="td_post_5388488" style="border-right: 1px solid #FFFFFF">
	
		
		
			<!-- icon and title -->
			<div class="smallfont">
				
				<strong><!-- google_ad_section_start -->help needed<!-- google_ad_section_end --></strong>
			</div>
			<hr style="color:#FFFFFF" size="1">
			<!-- / icon and title -->
		
		

		<!-- message -->


		<div id="post_message_5388488"><!-- google_ad_section_start -->the 
script that you mentioned as script.sh. i need this program for 
interfacing an ARM9 cpu for data acquisition. can you please tell me of 
what should i do if i need to send a data file stored in the CPU when 
asked by the client. I really need this help. I am not from CS 
background and have a big problem in understanding c programs.<!-- google_ad_section_end --></div>
		<!-- / message -->
	
		
		
		
		

		
		
		
		
		
	
	</td>
</tr>
<tr>
	<td class="alt1" style="border: 1px solid #FFFFFF; border-top: 0px">


		

		
		
		&nbsp;
	</td>

	
	<td class="alt1" style="border: 1px solid #FFFFFF; border-left: 0px; border-top: 0px" align="right">
	
		<!-- controls -->
	
		
		
		
		
		
		
		
		
			
		
		
				
					
			<div id="helpfulanswers_box_5388488">		
								
				
				
					
				
					
					
				
				
				
				
			</div>			
			
		
		
		<!-- / controls -->
	</td>
</tr>
</tbody></table>



<!-- post 5388488 popup menu -->
<div class="vbmenu_popup" id="postmenu_5388488_menu" style="display:none">
	<table cellspacing="1" cellpadding="4" border="0">
	<tbody><tr>
		<td class="thead">tanmoy_sil</td>
	</tr>
	
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/questions/user/tanmoy_sil-1013526/">View Public Profile</a></td></tr>
	
	<tr><td class="vbmenu_option"><a href="https://www.linuxquestions.org/questions/blog/tanmoy_sil-1013526/">View LQ Blog</a></td></tr>
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/reviews/showcat.php?cat=myprod&amp;ppuser=1013526">View Review Entries</a></td></tr>
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/hcl/showcat.php?cat=myprod&amp;ppuser=1013526">View HCL Entries</a></td></tr>
	
	
	
	
	
	
	
		<tr><td class="vbmenu_option"><a href="https://www.linuxquestions.org/questions/search.php?do=finduser&amp;u=1013526" rel="nofollow">Find More Posts by tanmoy_sil</a></td></tr>
	
	
	
	</tbody></table>
</div>
<!-- / post 5388488 popup menu -->


	</div>
	
		</div>
	</div>
</div>

<!-- / close content container -->

<!-- / post #5388488 --><!-- post #5388490 -->

	<!-- open content container -->

<div align="center">
	<div class="page" style="width:100%; text-align:left">
		<div style="padding:0px 0px 0px 0px" align="left">

	<div id="edit5388490" style="padding:0px 0px 3px 0px">
	



<table id="post5388490" class="tborder" width="100%" cellspacing="0" cellpadding="3" border="0" align="center">
<tbody><tr>
	
		<td class="thead" style="font-weight:normal; border: 1px solid #FFFFFF; border-right: 0px">		
			<!-- status icon and date -->
			<a name="post5388490"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/post_old.gif" alt="Old" title="Old" border="0"></a>
			07-07-2015, 01:46 PM
			
			<!-- / status icon and date -->
		</td>
		<td class="thead" style="font-weight:normal; border: 1px solid #FFFFFF; border-left: 0px" align="right">
			&nbsp;
		
			#<a href="https://www.linuxquestions.org/questions/programming-9/tcp-file-transfer-in-c-with-socket-server-client-on-linux-help-with-code-4175413995/#post5388490" rel="nofollow" id="postcount5388490" name="15"><strong>15</strong></a>
			
		
		</td>
	
</tr>
<tr valign="top">
	<td class="alt2" style="border: 1px solid #FFFFFF; border-top: 0px; border-bottom: 0px" width="175">			
			<div id="postmenu_5388490">
				<div class="bigusername">
				<!-- google_ad_section_start(weight=ignore) -->astrogeek<!-- google_ad_section_end --></div>
				
			</div>
			<div class="smallfont">Moderator</div>
			
			
			
			
			
			<div class="smallfont">
				&nbsp;<br>
				<div>Registered: Oct 2008</div>
				
				<div>Distribution: Slackware [64]-X.{0|1|2|37|-current} ::12&lt;=X&lt;=14,    FreeBSD_10{.0|.1|.2}</div>
				
				<div>
					Posts: 4,768
				</div>
				
				<div>Blog Entries: <a href="https://www.linuxquestions.org/questions/blog/astrogeek-434870/">6</a></div>
				
				<br><div><span id="repdisplay_5388490_434870">Rep: <img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_pos.gif" alt="Reputation: 2585" title="Reputation: 2585" border="0"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_pos.gif" alt="Reputation: 2585" title="Reputation: 2585" border="0"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_pos.gif" alt="Reputation: 2585" title="Reputation: 2585" border="0"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_pos.gif" alt="Reputation: 2585" title="Reputation: 2585" border="0"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_pos.gif" alt="Reputation: 2585" title="Reputation: 2585" border="0"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_highpos.gif" alt="Reputation: 2585" title="Reputation: 2585" border="0"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_highpos.gif" alt="Reputation: 2585" title="Reputation: 2585" border="0"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_highpos.gif" alt="Reputation: 2585" title="Reputation: 2585" border="0"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_highpos.gif" alt="Reputation: 2585" title="Reputation: 2585" border="0"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_highpos.gif" alt="Reputation: 2585" title="Reputation: 2585" border="0"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reputation_highpos.gif" alt="Reputation: 2585" title="Reputation: 2585" border="0"> <!-- <smallfont>(2585)</smallfont>--></span></div>
				
				<div>    </div>
			</div>					
	</td>
	
	<td class="alt2" id="td_post_5388490" style="border-right: 1px solid #FFFFFF">
	
		
		
		

		<!-- message -->


		<div id="post_message_5388490"><!-- google_ad_section_start -->@tanmoy_sil
 - This thread has been dead for 3+ years, so better to open your own 
thread with your own question describing what you actually need. Asking 
for code without any description of what you actually mean is very vague
 to say the least, and only clutters the forum and search results.<br>
<br>
Ah! We cross posted, I see you provided some detail. Still, if you could
 start your own thread with your own specific requirements you would get
 better results.<br>
<br>
And welcome to LQ!<!-- google_ad_section_end --></div>
		<!-- / message -->
	
		
		
		
		

		
		
		
		
		
		<!-- edit note -->
			<div class="smallfont">
				<hr style="color:#FFFFFF" size="1">
				<em>
					
						Last edited by astrogeek; 07-07-2015 at <span class="time">01:49 PM</span>.
					
					
				</em>
			</div>
		<!-- / edit note -->
		
	
	</td>
</tr>
<tr>
	<td class="alt2" style="border: 1px solid #FFFFFF; border-top: 0px">


		

		
		
		&nbsp;
	</td>

	
	<td class="alt2" style="border: 1px solid #FFFFFF; border-left: 0px; border-top: 0px" align="right">
	
		<!-- controls -->
	
		
		
		
		
		
		
		
		
			
		
		
				
					
			<div id="helpfulanswers_box_5388490">		
								
				
				
					
				
					
					
				
				
				
				
			</div>			
			
		
		
		<!-- / controls -->
	</td>
</tr>
</tbody></table>



<!-- post 5388490 popup menu -->
<div class="vbmenu_popup" id="postmenu_5388490_menu" style="display:none">
	<table cellspacing="1" cellpadding="4" border="0">
	<tbody><tr>
		<td class="thead">astrogeek</td>
	</tr>
	
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/questions/user/astrogeek-434870/">View Public Profile</a></td></tr>
	
	<tr><td class="vbmenu_option"><a href="https://www.linuxquestions.org/questions/blog/astrogeek-434870/">View LQ Blog</a></td></tr>
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/reviews/showcat.php?cat=myprod&amp;ppuser=434870">View Review Entries</a></td></tr>
	<tr><td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/hcl/showcat.php?cat=myprod&amp;ppuser=434870">View HCL Entries</a></td></tr>
	
	
	
	
	
	
	
		<tr><td class="vbmenu_option"><a href="https://www.linuxquestions.org/questions/search.php?do=finduser&amp;u=434870" rel="nofollow">Find More Posts by astrogeek</a></td></tr>
	
	
	<tr><td class="vbmenu_option"><a href="https://www.linuxquestions.org/questions/blog/astrogeek-434870/">View Blog</a></td></tr>
	</tbody></table>
</div>
<!-- / post 5388490 popup menu -->


	</div>
	
		</div>
	</div>
</div>

<!-- / close content container -->

<!-- / post #5388490 --><div id="lastpost"></div></div>

<div align="center"><script type="text/javascript"><!--// <![CDATA[
    OA_show(11);
// ]]> --></script><noscript><a target='_blank' href='https://rev.linuxquestions.org/www/delivery/ck.php?n=b4ceb16'><img border='0' alt='' src='https://rev.linuxquestions.org/www/delivery/avw.php?zoneid=11&amp;n=b4ceb16' /></a></noscript><span style="float: left; margin-left: 20%;"><script type="text/javascript"><!--// <![CDATA[
    OA_show(6);
// ]]> --></script><noscript><a target='_blank' href='https://rev.linuxquestions.org/www/delivery/ck.php?n=8bad058'><img border='0' alt='' src='https://rev.linuxquestions.org/www/delivery/avw.php?zoneid=6&amp;n=8bad058' /></a></noscript></span>&nbsp;&nbsp;<span style="float: left;margin-left: 20px;"></span></div><br>
<div style="clear: both;"><br></div>

<!-- start content table -->
<!-- open content container -->

<div align="center">
	<div class="page" style="width:100%; text-align:left">
		<div style="padding:0px 0px 0px 0px" align="left">

<!-- / start content table -->

<!-- controls below postbits -->
<table width="100%" cellspacing="0" cellpadding="0" border="0">
<tbody><tr valign="top">
	
		<td class="smallfont"><a href="https://www.linuxquestions.org/questions/newreply.php?do=newreply&amp;noquote=1&amp;p=5388490" rel="nofollow"><img src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/reply.gif" alt="Reply" title="Reply" border="0"></a></td>
	
	
</tr>
</tbody></table>
<!-- / controls below postbits -->










<!-- lightbox scripts -->
	<script type="text/javascript" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/vbulletin_lightbox.js"></script>
	<script type="text/javascript">
	<!--
	vBulletin.register_control("vB_Lightbox_Container", "posts", 1);
	//-->
	</script>
<!-- / lightbox scripts -->









<br>
<br>

<!-- currently active users -->

<!-- end currently active users -->


<!-- popup menu contents -->
<br>

<!-- thread tools menu -->
<div class="vbmenu_popup" id="threadtools_menu" style="display:none">
<form action="/questions/postings.php?t=4175413995&amp;pollid=" method="post" name="threadadminform">
	<table cellspacing="1" cellpadding="4" border="0">
	<tbody><tr>
		<td class="thead">Thread Tools<a name="goto_threadtools"></a></td>
	</tr>
	<tr>
		<td class="vbmenu_option"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/printer.gif" alt="Show Printable Version" title="Show Printable Version"> <a href="https://www.linuxquestions.org/questions/programming-9/tcp-file-transfer-in-c-with-socket-server-client-on-linux-help-with-code-4175413995-print/" accesskey="3" rel="nofollow">Show Printable Version</a></td>
	</tr>
	<tr>
		<td class="vbmenu_option"><img class="inlineimg" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/sendtofriend.gif" alt="Email this Page" title="Email this Page"> <a href="https://www.linuxquestions.org/questions/sendmessage.php?do=sendtofriend&amp;t=4175413995" rel="nofollow">Email this Page</a></td>
	</tr>
	
	
	
			
	
	
	</tbody></table>
</form>
</div>
<!-- / thread tools menu -->

<!-- **************************************************** -->


<!-- thread search menu -->
<div class="vbmenu_popup" id="threadsearch_menu" style="display:none">
<form action="/questions/search.php?do=process&amp;searchthreadid=4175413995" method="post">
	<table cellspacing="1" cellpadding="4" border="0">
	<tbody><tr>
		<td class="thead">Search this Thread<a name="goto_threadsearch"></a></td>
	</tr>
	<tr>
		<td class="vbmenu_option" title="nohilite">
			<input name="s" value="" type="hidden">
			<input name="securitytoken" value="guest" type="hidden">
			<input name="do" value="process" type="hidden">
			<input name="searchthreadid" value="4175413995" type="hidden">
			<input class="bginput" name="query" size="25" type="text"><input class="button" value="Go" type="submit"><br>
		</td>
	</tr>
	<tr>
		<td class="vbmenu_option"><a rel="nofollow" href="https://www.linuxquestions.org/questions/search.php?searchthreadid=4175413995">Advanced Search</a></td>
	</tr>
	</tbody></table>
</form>
</div>
<!-- / thread search menu -->


<!-- **************************************************** -->



<!-- / popup menu contents -->




<!-- forum rules and admin links -->
<table width="100%" cellspacing="0" cellpadding="0" border="0" align="center">
<tbody><tr valign="bottom">
	<td class="smallfont" align="left">
		<table class="tborder" width="210" cellspacing="1" cellpadding="3" border="0">
<thead>
<tr>
	<td class="thead">
		<a style="float:right" href="https://www.linuxquestions.org/questions/programming-9/tcp-file-transfer-in-c-with-socket-server-client-on-linux-help-with-code-4175413995/#top" onclick="return toggle_collapse('forumrules')"><img id="collapseimg_forumrules" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/collapse_thead.gif" alt="" border="0"></a>
		Posting Rules
	</td>
</tr>
</thead>
<tbody id="collapseobj_forumrules" style="">
<tr>
	<td class="alt1" nowrap="nowrap"><div class="smallfont">
		
		<div>You <strong>may not</strong> post new threads</div>
		<div>You <strong>may not</strong> post replies</div>
		<div>You <strong>may not</strong> post attachments</div>
		<div>You <strong>may not</strong> edit your posts</div>
		<hr>
		
		<div><a rel="nofollow" href="https://www.linuxquestions.org/questions/misc.php?do=bbcode" target="_blank">BB code</a> is <strong>On</strong></div>
		<div><a rel="nofollow" href="https://www.linuxquestions.org/questions/misc.php?do=showsmilies" target="_blank">Smilies</a> are <strong>On</strong></div>
		<div><a rel="nofollow" href="https://www.linuxquestions.org/questions/misc.php?do=bbcode#imgcode" target="_blank">[IMG]</a> code is <strong>Off</strong></div>
		<div>HTML code is <strong>Off</strong></div>
		<hr>
		<div><a rel="nofollow" href="https://www.linuxquestions.org/questions/misc.php?do=showrules" target="_blank">Forum Rules</a></div>
	</div></td>
</tr>
</tbody>
</table>
	</td>
	<td class="smallfont" align="right">
		<table cellspacing="0" cellpadding="0" border="0">
		
		<tbody><tr>
			<td>
			
			</td>
		</tr>
		</tbody></table>
	</td>
</tr>
</tbody></table>
<!-- /forum rules and admin links -->

<br>


<input name="IL_IN_TAG" value="1" type="hidden">
<br>



<table class="tborder" width="100%" cellspacing="1" cellpadding="3" border="0" align="center">
<thead>
	<tr>
		<td class="tcat" colspan="5" width="100%">
			<a style="float:right" href="https://www.linuxquestions.org/questions/programming-9/tcp-file-transfer-in-c-with-socket-server-client-on-linux-help-with-code-4175413995/#top" onclick="return toggle_collapse('similarthreads')"><img id="collapseimg_similarthreads" src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/collapse_tcat.gif" alt="" border="0"></a>
			Similar Threads<a name="similarthreads"></a>
		</td>
	</tr>
</thead>
<tbody id="collapseobj_similarthreads" style="">
<tr class="thead" align="center">
	<td class="thead" width="40%">Thread</td>
	<td class="thead" width="15%" nowrap="nowrap">Thread Starter</td>
	<td class="thead" width="20%">Forum</td>
	<td class="thead" width="5%">Replies</td>
	<td class="thead" width="20%">Last Post</td>
</tr>
<tr>
	<td class="alt1" align="left">
		
		<span class="smallfont"> <a href="https://www.linuxquestions.org/questions/programming-9/client-tcp-socket-recv-returning-0-when-server-closes-the-connection-4175412549/" title="I've recently ported a networking application from SysV Unix to a Linux 2.6.31.13 based system and have one final problem that I've been unable to..." target="_blank">Client TCP socket recv returning 0 when server closes the connection</a></span>
	</td>
	<td class="alt2" nowrap="nowrap"><span class="smallfont">dfbloemen</span></td>
	<td class="alt1" nowrap="nowrap"><span class="smallfont">Programming</span></td>
	<td class="alt2" align="center"><span class="smallfont">3</span></td>
	<td class="alt1" align="right"><span class="smallfont">06-21-2012 <span class="time">09:24 AM</span></span></td>
</tr><tr>
	<td class="alt1" align="left">
		
		<span class="smallfont"> <a href="https://www.linuxquestions.org/questions/linux-newbie-8/client-server-socket-tcp-ip-program-in-c-linux-over-https-946753/" title="Hi  
 
Could anybody please give me a link or something to the aforesaid client and server programs. 
 
Thanks in advance" target="_blank">Client Server Socket TCP/IP program in C Linux over HTTPS</a></span>
	</td>
	<td class="alt2" nowrap="nowrap"><span class="smallfont">fahad.anwar</span></td>
	<td class="alt1" nowrap="nowrap"><span class="smallfont">Linux - Newbie</span></td>
	<td class="alt2" align="center"><span class="smallfont">6</span></td>
	<td class="alt1" align="right"><span class="smallfont">05-29-2012 <span class="time">03:59 AM</span></span></td>
</tr><tr>
	<td class="alt1" align="left">
		
		<span class="smallfont"> <a href="https://www.linuxquestions.org/questions/linux-newbie-8/client-server-socket-tcp-ip-program-in-c-linux-using-threads-945643/" title="Hi all 
 
Can anybody please give me the complete working code for the same using concurrent server. 
 
Highly obliged 
 
thanks" target="_blank">Client Server Socket TCP/IP program in C Linux using threads</a></span>
	</td>
	<td class="alt2" nowrap="nowrap"><span class="smallfont">fahad.anwar</span></td>
	<td class="alt1" nowrap="nowrap"><span class="smallfont">Linux - Newbie</span></td>
	<td class="alt2" align="center"><span class="smallfont">2</span></td>
	<td class="alt1" align="right"><span class="smallfont">05-18-2012 <span class="time">04:34 AM</span></span></td>
</tr><tr>
	<td class="alt1" align="left">
		
		<span class="smallfont">[SOLVED] <a href="https://www.linuxquestions.org/questions/programming-9/how-could-server-detect-closed-client-socket-using-tcp-and-c-824615/" title="Hi, 
 
Reading some examples on net and copying some codes I was able to build a (frankstein) server that accept connection from one client and..." target="_blank">How could server detect closed client socket using TCP and c++?</a></span>
	</td>
	<td class="alt2" nowrap="nowrap"><span class="smallfont">Lobinho</span></td>
	<td class="alt1" nowrap="nowrap"><span class="smallfont">Programming</span></td>
	<td class="alt2" align="center"><span class="smallfont">6</span></td>
	<td class="alt1" align="right"><span class="smallfont">08-10-2010 <span class="time">02:28 PM</span></span></td>
</tr><tr>
	<td class="alt1" align="left">
		
		<span class="smallfont"> <a href="https://www.linuxquestions.org/questions/linux-networking-3/problem-to-transfer-binary-file-over-tcp-socket-420191/" title="Hello, 
 
I can read a binary file and to write it to another location, it is all fine. But when I tried to transfer a binary file over a TCP socket,..." target="_blank">Problem to transfer binary file over TCP socket</a></span>
	</td>
	<td class="alt2" nowrap="nowrap"><span class="smallfont">yhus</span></td>
	<td class="alt1" nowrap="nowrap"><span class="smallfont">Linux - Networking</span></td>
	<td class="alt2" align="center"><span class="smallfont">3</span></td>
	<td class="alt1" align="right"><span class="smallfont">02-28-2006 <span class="time">08:41 AM</span></span></td>
</tr>
</tbody>
</table>

<br>

<span class="navbar"><a href="https://www.linuxquestions.org/" accesskey="1">LinuxQuestions.org</a></span> 

<span class="navbar">&gt; <a href="https://www.linuxquestions.org/questions/" accesskey="1">Forums</a></span> 


	<span class="navbar">&gt; <a href="https://www.linuxquestions.org/questions/non-%2Anix-forums-16/">Non-*NIX Forums</a></span>


	<span class="navbar">&gt; <a href="https://www.linuxquestions.org/questions/programming-9/">Programming</a></span>



<!-- end content table  -->

		</div>
	</div>
</div>

<!-- / close content container -->
<!-- / end content table -->

</div>

<br>
<div class="smallfont" align="center">All times are GMT -5. The time now is <span class="time">03:50 AM</span>.</div>
<br>
<!-- /content area table -->

<form action="/questions/" method="get">
<table class="page" width="100%" cellspacing="0" cellpadding="3" border="0" align="center">
<tbody><tr>
	
	
	<td class="tfoot" width="100%" align="right">
		<div class="smallfont">
			<strong>
				<a href="https://www.linuxquestions.org/questions/sendmessage.php" rel="nofollow">Contact Us</a> -
				<a href="https://www.linuxquestions.org/linux/adinfo.html">Advertising Info</a> - 
				<a href="https://www.linuxquestions.org/linux/rules.html">Rules</a> - 
				<a href="http://www.zazzle.com/linuxquestions*" rel="nofollow">LQ Merchandise</a> - 
				<a href="https://www.linuxquestions.org/linux/donation.html">Donations</a> - 
				<a href="https://www.linuxquestions.org/linux/member.html">Contributing Member</a> - 
				<a href="https://www.linuxquestions.org/linux/sitemap.html" rel="nofollow">LQ Sitemap</a> - 
				
				
				
			</strong>
		</div>
	</td>
</tr>
</tbody></table>

</form>


<!-- START: LQ Table Bottom -->
</td>
<td class="page" style="padding-left:5px" width="165px" valign="top">
<table style="margin-bottom:5px" class="tborder" width="100%" cellspacing="0" cellpadding="2" border="0" align="center">
<tbody><tr><td class="vbmenu_control">Main Menu</td></tr>
<tr><td class="alt1">
<ul class="lqrightmenu">
<li><a href="https://www.linuxquestions.org/questions/">Linux Forum</a></li>
<li><a href="http://www.androidquestions.org/forum.php">Android Forum</a></li>
<li><a href="http://www.chromeosquestions.org/forum.php">Chrome OS Forum</a></li>
<li><a href="https://www.linuxquestions.org/questions/search.php">Search</a></li>
<li><a href="https://www.linuxquestions.org/questions/tags/" rel="nofollow">LQ Tags</a></li>
<li><a href="https://www.linuxquestions.org/hcl/">Linux HCL</a></li>
<li><a href="https://www.linuxquestions.org/linux/answers/">Linux Tutorials</a></li>
<li><a href="http://jobs.linuxquestions.org/" target="_blank">LQ Job Marketplace</a></li>
<li><a href="https://deals.linuxquestions.org/" target="_blank">LQ Deals</a></li>
<li><a href="http://wiki.linuxquestions.org/">Linux Wiki</a></li>
<li><a href="https://www.linuxquestions.org/reviews/index.php/cat/2">Distro Reviews</a></li>
<li><a href="https://www.linuxquestions.org/reviews/index.php/cat/15">Book Reviews</a></li>
<li><a href="http://iso.linuxquestions.org/">Download Linux</a></li>
<!-- <li><a href="http://radio.linuxquestions.org/linux/lq-podcasts/">Linux Podcast</a></li> -->
<li><a href="https://www.linuxquestions.org/questions/groups/">Social Groups</a></li>
<li><a href="https://www.linuxquestions.org/questions/blog/">LQ Blogs</a></li>
<!-- <li><a href="http://radio.linuxquestions.org/">LQ Radio</a></li> -->
</ul>
<div align="center"><a href="https://www.linuxquestions.org/questions/programming-9/tcp-file-transfer-in-c-with-socket-server-client-on-linux-help-with-code-4175413995/#main_cont">(Con't)</a></div>
</td></tr>
</tbody></table>




<div style="text-align:center;margin-bottom:5px">
<table style="margin-bottom:5px" class="tborder" width="100%" cellspacing="0" cellpadding="2" border="0" align="center">
<tbody><tr><td class="vbmenu_control">Advertisement</td></tr></tbody></table></div>
<div style="text-align:center;margin-bottom:5px" class="alt1">
<script type="text/javascript"><!--// <![CDATA[
    OA_show(9);
// ]]> --></script><noscript><a target='_blank' href='https://rev.linuxquestions.org/www/delivery/ck.php?n=e407561'><img border='0' alt='' src='https://rev.linuxquestions.org/www/delivery/avw.php?zoneid=9&amp;n=e407561' /></a></noscript>
</div>


<!-- netseer_side -->

<table style="margin-bottom:5px" class="tborder" width="100%" cellspacing="0" cellpadding="2" border="0" align="center">
<tbody><tr><td class="vbmenu_control">My LQ</td></tr>
<tr><td class="alt1"><ul class="lqrightmenu">
<li><a href="https://www.linuxquestions.org/questions/lqlogin.php">Login</a></li>
<li><a href="https://www.linuxquestions.org/questions/register.php">Register</a></li>

</ul>
<div style="text-align:center;margin-bottom:5px" class="alt1">
<script type="text/javascript"><!--// <![CDATA[
    OA_show(3);
// ]]> --></script><noscript><a target='_blank' href='https://rev.linuxquestions.org/www/delivery/ck.php?n=8cac360'><img border='0' alt='' src='https://rev.linuxquestions.org/www/delivery/avw.php?zoneid=3&amp;n=8cac360' /></a></noscript>
</div>
</td></tr>
</tbody></table>

<table style="margin-bottom:5px" class="tborder" width="100%" cellspacing="0" cellpadding="2" border="0" align="center">
<tbody><tr><td class="vbmenu_control">Write for LQ</td></tr>
<tr><td class="alt1">
LinuxQuestions.org is looking for people interested in writing
Editorials, Articles, Reviews, and more. If you'd like to contribute
content, <a href="https://www.linuxquestions.org/questions/sendmessage.php">let us know</a>.
</td></tr>
</tbody></table>

<table style="margin-bottom:5px" class="tborder" width="100%" cellspacing="0" cellpadding="2" border="0" align="center">
<tbody><tr><td class="vbmenu_control" id="main_cont">Main Menu</td></tr>
<tr><td class="alt1">
<ul class="lqrightmenu">
<li><a href="https://www.linuxquestions.org/questions/calendar.php">LQ Calendar</a></li>
<li><a href="https://www.linuxquestions.org/linux/rules.html">LQ Rules</a></li>
<li><a href="https://www.linuxquestions.org/linux/sitemap.html">LQ Sitemap</a></li>
<li><a href="https://www.linuxquestions.org/questions/faq.php">Site FAQ</a></li>
<li><a rel="nofollow" href="https://www.linuxquestions.org/questions/search.php?do=getnew">View New Posts</a></li>
<li><a rel="nofollow" href="https://www.linuxquestions.org/questions/lqsearch.php?do=getnew&amp;daysprune=7">View Latest Posts</a></li>
<li><a rel="nofollow" href="https://www.linuxquestions.org/questions/lqsearch.php?do=noreplies">Zero Reply Threads</a></li>
<li><a href="http://wiki.linuxquestions.org/wiki/Special:Wantedpages">LQ Wiki Most Wanted</a></li>
<li><a href="http://jeremy.linuxquestions.org/">Jeremy's Blog</a></li>
<li><a href="https://www.linuxquestions.org/questions/project.php">Report LQ Bug</a></li>
</ul>
</td></tr>
</tbody></table>
<table style="margin-bottom:5px" class="tborder" width="100%" cellspacing="0" cellpadding="2" border="0" align="center">
<tbody><tr><td class="vbmenu_control">Syndicate</td></tr>
<tr><td class="alt1">
<a href="http://www.linuxquestions.org/syndicate/lqlatest.xml"><img src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/rss.gif" alt="RSS1" title="RSS1" width="16" height="16" border="0"></a>&nbsp; Latest Threads<br>
<a href="http://www.linuxquestions.org/syndicate/lqnews.rss"><img src="[SOLVED]%20TCP%20File%20Transfer%20in%20C%20with%20socket%20(server_client)%20on%20Linux.%20Help%20with%20code_files/rss.gif" alt="RSS1" title="RSS1" width="16" height="16" border="0"></a>&nbsp; LQ News<br>
<!-- <a href="http://radio.linuxquestions.org/syndicate/lqpodcast.php"><img src="https://lqo-thequestionsnetw.netdna-ssl.com/questions/images/misc/rss.gif" alt="RSS2" border="0" width="16" height="16" /></a>&nbsp; LQ Podcast<br />
<a href="http://radio.linuxquestions.org/syndicate/lqradio.php"><img src="https://lqo-thequestionsnetw.netdna-ssl.com/questions/images/misc/rss.gif" alt="RSS2" border="0" width="16" height="16" /></a>&nbsp; LQ Radio<br /> -->
<div class="smallfont">Twitter: <a href="http://twitter.com/linuxquestions" rel="nofollow">@linuxquestions</a><br>
Facebook: <a href="http://www.facebook.com/LinuxQuestions.org" rel="nofollow">linuxquestions</a>
Google+: <a href="https://plus.google.com/b/109219585164287163101/" rel="nofollow">linuxquestions</a>
</div>
</td></tr>
</tbody></table>
</td>
</tr>
</tbody></table>
<!-- END: LQ Table Bottom -->


		</div>
	</div>
</div>

<!-- / close content container -->

<div align="center">
	<div class="smallfont" align="center">
<a href="http://www.lqconsulting.com/">Open Source Consulting</a> |
<a href="http://www.lqconsulting.com/client/check.php">Domain Registration</a>
</div><br><br>
	
	<div class="smallfont" align="center">
	
	</div>
</div>


<script type="text/javascript">
<!--
	// Main vBulletin Javascript Initialization
	vBulletin_init();
//-->
</script>








<!-- temp -->
<div style="display:none">
	<!-- thread rate -->
	
		
	
	<!-- / thread rate -->
</div>
<!--
<div class="vbmenu_popup" id="linkbacktools_menu" style="display:none">
	<table cellpadding="4" cellspacing="1" border="0">
	<tr>
		<td class="thead">LinkBack<a name="goto_linkback"></a></td>
	</tr>

	<tr>
		<td class="vbmenu_option"><img class="inlineimg" src="https://www.linuxquestions.org/questions/vbseo/resources/images/forum/linkback_url.gif" alt="LinkBack URL" /> <a href="https://www.linuxquestions.org/questions/programming-9/tcp-file-transfer-in-c-with-socket-server-client-on-linux-help-with-code-4175413995/" onclick="prompt('Use the following URL when referencing this thread from another forum or blog.','https://www.linuxquestions.org/questions/programming-9/tcp-file-transfer-in-c-with-socket-server-client-on-linux-help-with-code-4175413995/');return false;">LinkBack URL</a></td>
	</tr>
	<tr>
		<td class="vbmenu_option"><img class="inlineimg" src="https://www.linuxquestions.org/questions/vbseo/resources/images/forum/linkback_about.gif" alt="About LinkBacks" /> <a rel="nofollow" href="/questions/misc.php?do=linkbacks">About LinkBacks</a></td>
	</tr>

	<tr>
		<td class="thead">Bookmark &amp; Share</td>
	</tr>
<! <tr><td class="vbmenu_option">g_plusone </td></tr> >
	<tr><td class="vbmenu_option"><img class="inlineimg" src="https://www.linuxquestions.org/questions/vbseo/resources/images/forum/digg.gif" alt="Digg this Thread!" /> <a rel="nofollow" href="http://digg.com/submit?phase=2&amp;url=https%3A%2F%2Fwww.linuxquestions.org%2Fquestions%2Fprogramming-9%2Ftcp-file-transfer-in-c-with-socket-server-client-on-linux-help-with-code-4175413995%2F&amp;title=TCP+File+Transfer+in+C+with+socket+%28server%2Fclient%29+on+Linux.+Help+with+code" target="_blank">Digg this Thread!</a><a name="vbseodm_0"></a></td></tr><tr><td class="vbmenu_option"><img class="inlineimg" src="https://www.linuxquestions.org/questions/vbseo/resources/images/forum/delicious.gif" alt="Add Thread to del.icio.us" /> <a rel="nofollow" href="http://del.icio.us/post?url=https%3A%2F%2Fwww.linuxquestions.org%2Fquestions%2Fprogramming-9%2Ftcp-file-transfer-in-c-with-socket-server-client-on-linux-help-with-code-4175413995%2F&amp;title=TCP+File+Transfer+in+C+with+socket+%28server%2Fclient%29+on+Linux.+Help+with+code" target="_blank">Add Thread to del.icio.us</a><a name="vbseodm_1"></a></td></tr><tr><td class="vbmenu_option"><img class="inlineimg" src="https://www.linuxquestions.org/questions/vbseo/resources/images/forum/twitter.png" alt="Tweet this thread" /> <a rel="nofollow" href="http://twitter.com/home?status=TCP+File+Transfer+in+C+with+socket+%28server%2Fclient%29+on+Linux.+Help+with+code https%3A%2F%2Fwww.linuxquestions.org%2Fquestions%2Fprogramming-9%2Ftcp-file-transfer-in-c-with-socket-server-client-on-linux-help-with-code-4175413995%2F" target="_blank">Tweet this thread</a><a name="vbseodm_2"></a></td></tr><tr><td class="vbmenu_option"><img class="inlineimg" src="http://static.linuxquestions.org/questions/images/misc/sb/facebook.gif" alt="Share on Facebook" /> <a rel="nofollow" href="http://www.facebook.com/share.php?u=https%3A%2F%2Fwww.linuxquestions.org%2Fquestions%2Fprogramming-9%2Ftcp-file-transfer-in-c-with-socket-server-client-on-linux-help-with-code-4175413995%2F" target="_blank">Share on Facebook</a><a name="vbseodm_3"></a></td></tr><tr><td class="vbmenu_option"><img class="inlineimg" src="http://static.linuxquestions.org/questions/images/misc/sb/reddit.gif" alt="Reddit!" /> <a rel="nofollow" href="http://reddit.com/submit?url=https%3A%2F%2Fwww.linuxquestions.org%2Fquestions%2Fprogramming-9%2Ftcp-file-transfer-in-c-with-socket-server-client-on-linux-help-with-code-4175413995%2F&amp;title=TCP+File+Transfer+in+C+with+socket+%28server%2Fclient%29+on+Linux.+Help+with+code" target="_blank">Reddit!</a><a name="vbseodm_4"></a></td></tr>

	</table>
</div> -->
<script type="text/javascript">
//<![CDATA[

window.orig_onload = window.onload;
window.onload = function() {
var cpost=document.location.hash.substring(1);var cpost2='';if(cpost && (typeof fetch_object != 'undefined')){ var ispost=cpost.substring(0,4)=='post';if(ispost)cpost2='post_'+cpost.substring(4);if((cobj = fetch_object(cpost))||(cobj = fetch_object(cpost2))){cobj.scrollIntoView(true);}else if(ispost){cpostno = cpost.substring(4,cpost.length);if(parseInt(cpostno)>0){location.replace('https://www.linuxquestions.org/questions/showthread.php?p='+cpostno);};} }

if(typeof window.orig_onload == "function") window.orig_onload();
}

//]]>
</script>

</body></html>